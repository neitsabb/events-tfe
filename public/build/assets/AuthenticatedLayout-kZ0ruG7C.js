import{r as s,j as t,q as fe,W as Xe,y as Ye,a as Ke,b as Dn}from"./app-qijFDi4_.js";import{A as An,a as On,b as kn}from"./avatar-CdZvAEJg.js";import{c as T,e as $e,u as X,f as qe,S as Ln}from"./utils-Di4cwZjX.js";import{P as Fn}from"./react-icons.esm-B_QH4jkH.js";import{B as oe,c as Kn}from"./button-Bw7rl0P3.js";import{f as $n,D as Gn,b as Vn,c as zn,d as Un,e as Bn,o as Wn,q as Hn,F as Xn,r as Yn,p as qn,P as Je,B as Jn,t as Zn}from"./dialog-33l9bfr1.js";import{I as Ge}from"./label-BFttLCBn.js";import{S as Ze,a as Qe,b as et,c as tt,d as Q,e as Qn,f as er,V as nt}from"./select-BFpH6B09.js";import{P as I,c as Te,b as ie,a as b,d as ee,e as rt,u as ot,f as tr}from"./index-BJuTwMzb.js";import{T as nr}from"./textarea-DUaatCdz.js";import{F as ne}from"./Field-DkKyvpSt.js";import{t as rr,u as or}from"./use-toast-B9KH-dZ1.js";import{c as st,u as sr}from"./index-B3zxlze2.js";import{c as at,A as ar,C as ir,a as cr,R as dr}from"./index-CwBatNrT.js";import{c as it,R as ur,I as lr}from"./index-FSPNRT7I.js";import{u as Ve}from"./index-1QdY4h2j.js";import{C as pr}from"./chevron-right-C83Bcc05.js";import{C as fr}from"./index-rnhLPvwg.js";var mr="Separator",ze="horizontal",xr=["horizontal","vertical"],ct=s.forwardRef((e,r)=>{const{decorative:n,orientation:o=ze,...i}=e,a=vr(o)?o:ze,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return t.jsx(I.div,{"data-orientation":a,...l,...i,ref:r})});ct.displayName=mr;function vr(e){return xr.includes(e)}var dt=ct;const ut=s.forwardRef(({className:e,orientation:r="horizontal",decorative:n=!0,...o},i)=>t.jsx(dt,{ref:i,decorative:n,orientation:r,className:T("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...o}));ut.displayName=dt.displayName;const hr=()=>{var d,x;const{props:{auth:e}}=fe(),[r,n]=s.useState(((d=e.organizationLogged)==null?void 0:d.id)??((x=e.user.organizations[0])==null?void 0:x.id)??0),{data:o,setData:i,post:a}=Xe({organizationId:r}),c=s.useRef(!1);s.useEffect(()=>{c.current&&a(route("organizations.switch"))},[o]),s.useEffect(()=>{var g,w;n(((g=e.organizationLogged)==null?void 0:g.id)??((w=e.user.organizations[0])==null?void 0:w.id)??0)},[e.organizationLogged,e.user.organizations]);const l=g=>{const w=parseInt(g,10);n(w),i("organizationId",w),c.current=!0},p=e.user.organizations.find(g=>g.id===r),[u,f]=s.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsxs(Ze,{value:r.toString(),onValueChange:l,children:[t.jsx(Qe,{className:"w-52 flex items-center gap-2",children:t.jsx(et,{children:t.jsxs("div",{className:"flex items-center gap-2 truncate",children:[t.jsx("span",{className:"shrink-0",children:t.jsx("img",{src:p==null?void 0:p.logo,alt:"",className:"w-6 h-6 cover rounded-full"})}),$e(p.name)]})})}),t.jsx(tt,{children:t.jsxs(Qn,{children:[t.jsx(er,{children:"Organisations"}),e.user.organizations.map(g=>{var w;return t.jsx(Q,{value:((w=g.id)==null?void 0:w.toString())||"",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:" ",children:t.jsx("img",{src:g.logo,alt:"",className:"w-6 h-6 cover rounded-full"})}),$e(g.name)]})},g.id)}),t.jsx(ut,{className:"my-1"}),t.jsxs(oe,{variant:"outline",className:"w-full",onClick:()=>f(!0),children:[t.jsx(Fn,{className:"mr-2 "}),"Créer une organisation"]})]})})]}),t.jsx(gr,{open:u,handleOpen:f})]})},gr=({open:e,handleOpen:r})=>{const{data:n,setData:o,post:i,errors:a,reset:c}=Xe({name:"",type:"association",description:"",logo:"",website:""}),l=()=>{i(route("shared.organizations.store"),{onSuccess:({props:{flash:p}})=>{c(),Ye.reload(),r&&r(!1),rr({title:"Succès",description:p.success})}})};return t.jsx(Gn,{open:e,onOpenChange:r,children:t.jsxs(Vn,{children:[t.jsxs(zn,{children:[t.jsx(Un,{children:"Créer une organisation"}),t.jsx(Bn,{children:"Créez une nouvelle organisation pour gérer vos événements."})]}),t.jsx(wr,{handleOpen:r,data:n,errors:a,setData:o,handleSubmit:l})]})})},wr=({data:e,setData:r,errors:n,handleSubmit:o,handleOpen:i})=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx(ne,{label:"Nom",id:"name",className:"col-span-2",errors:n,children:t.jsx(Ge,{id:"name",value:e.name,onChange:a=>r("name",a.target.value)})}),t.jsx(ne,{label:"Type",id:"type",errors:n,children:t.jsxs(Ze,{onValueChange:a=>r("type",a),defaultValue:e.type,children:[t.jsx(Qe,{children:t.jsx(et,{defaultValue:e.type})}),t.jsxs(tt,{align:"end",children:[t.jsx(Q,{value:"association",children:"Association"}),t.jsx(Q,{value:"entreprise",children:"Entreprise"}),t.jsx(Q,{value:"label",children:"Label de musique"}),t.jsx(Q,{value:"collectif",children:"Collectif artistique"}),t.jsx(Q,{value:"particulier",children:"Particulier"})]})]})})]}),t.jsxs(ne,{label:"Description",id:"description",errors:n,required:!1,children:[t.jsx(nr,{id:"description",value:e.description,onChange:a=>r("description",a.target.value)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Écrivez une brève description de votre organisation (Mission, style musical, histoire, etc.)"})]}),t.jsx(ne,{label:"Logo",id:"logo",errors:n,required:!1,children:t.jsx("div",{className:"flex items-center justify-center w-full",children:t.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-24 rounded-md shadow-sm border border-input cursor-pointer ",children:[e.logo?t.jsxs("div",{className:"flex items-center  gap-2",children:[t.jsx("div",{className:"w-full h-16",children:t.jsx("img",{src:e.logo instanceof File?URL.createObjectURL(e.logo):e.logo,alt:"Image de couverture",className:"w-full h-full fit-cover rounded-md"})}),t.jsx(oe,{variant:"outline",className:"mt-2",onClick:()=>r("logo",null),children:"Changer l'image"})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[t.jsx("svg",{className:"w-8 h-8 mb-4 text-gray-400 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:t.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),t.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-400",children:"AVIF, WEBP, SVG, PNG, JPG ou JPEG. Max 2Mo"})]}),t.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",accept:"image/jpeg,image/png,image/jpg,image/gif,image/svg,image/webp,image/avif",onChange:a=>{var c;r("logo",((c=a.target.files)==null?void 0:c[0])||null)}})]})})}),t.jsx(ne,{label:"Site web",id:"website",required:!1,errors:n,children:t.jsx(Ge,{id:"website",value:e.website,onChange:a=>r("website",a.target.value)})})]}),o&&t.jsxs($n,{children:[t.jsx(oe,{type:"submit",variant:"secondary",className:"mt-2 md:mt-0",onClick:()=>i&&i(!1),children:"Annuler"}),t.jsx(oe,{onClick:o,children:"Sauvegarder"})]})]});var we=["Enter"," "],br=["ArrowDown","PageUp","Home"],lt=["ArrowUp","PageDown","End"],yr=[...br,...lt],Cr={ltr:[...we,"ArrowRight"],rtl:[...we,"ArrowLeft"]},Mr={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ce="Menu",[se,Tr,jr]=st(ce),[Y,pt]=Te(ce,[jr,at,it]),me=at(),ft=it(),[Er,q]=Y(ce),[Rr,de]=Y(ce),mt=e=>{const{__scopeMenu:r,open:n=!1,children:o,dir:i,onOpenChange:a,modal:c=!0}=e,l=me(r),[p,u]=s.useState(null),f=s.useRef(!1),d=ee(a),x=sr(i);return s.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),t.jsx(dr,{...l,children:t.jsx(Er,{scope:r,open:n,onOpenChange:d,content:p,onContentChange:u,children:t.jsx(Rr,{scope:r,onClose:s.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:x,modal:c,children:o})})})};mt.displayName=ce;var Nr="MenuAnchor",je=s.forwardRef((e,r)=>{const{__scopeMenu:n,...o}=e,i=me(n);return t.jsx(ar,{...i,...o,ref:r})});je.displayName=Nr;var Ee="MenuPortal",[Pr,xt]=Y(Ee,{forceMount:void 0}),vt=e=>{const{__scopeMenu:r,forceMount:n,children:o,container:i}=e,a=q(Ee,r);return t.jsx(Pr,{scope:r,forceMount:n,children:t.jsx(ie,{present:n||a.open,children:t.jsx(Je,{asChild:!0,container:i,children:o})})})};vt.displayName=Ee;var L="MenuContent",[_r,Re]=Y(L),ht=s.forwardRef((e,r)=>{const n=xt(L,e.__scopeMenu),{forceMount:o=n.forceMount,...i}=e,a=q(L,e.__scopeMenu),c=de(L,e.__scopeMenu);return t.jsx(se.Provider,{scope:e.__scopeMenu,children:t.jsx(ie,{present:o||a.open,children:t.jsx(se.Slot,{scope:e.__scopeMenu,children:c.modal?t.jsx(Sr,{...i,ref:r}):t.jsx(Ir,{...i,ref:r})})})})}),Sr=s.forwardRef((e,r)=>{const n=q(L,e.__scopeMenu),o=s.useRef(null),i=X(r,o);return s.useEffect(()=>{const a=o.current;if(a)return Wn(a)},[]),t.jsx(Ne,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:b(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Ir=s.forwardRef((e,r)=>{const n=q(L,e.__scopeMenu);return t.jsx(Ne,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Ne=s.forwardRef((e,r)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:c,disableOutsidePointerEvents:l,onEntryFocus:p,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:x,onDismiss:g,disableOutsideScroll:w,...y}=e,v=q(L,n),j=de(L,n),C=me(n),M=ft(n),E=Tr(n),[R,N]=s.useState(null),D=s.useRef(null),B=X(r,D,v.onContentChange),F=s.useRef(0),V=s.useRef(""),z=s.useRef(0),K=s.useRef(null),W=s.useRef("right"),h=s.useRef(0),_=w?qn:s.Fragment,$=w?{as:Ln,allowPinchZoom:!0}:void 0,H=m=>{var Z,Le;const S=V.current+m,O=E().filter(G=>!G.disabled),k=document.activeElement,U=(Z=O.find(G=>G.ref.current===k))==null?void 0:Z.textValue,J=O.map(G=>G.textValue),ke=Ur(J,S,U),te=(Le=O.find(G=>G.textValue===ke))==null?void 0:Le.ref.current;(function G(Fe){V.current=Fe,window.clearTimeout(F.current),Fe!==""&&(F.current=window.setTimeout(()=>G(""),1e3))})(S),te&&setTimeout(()=>te.focus())};s.useEffect(()=>()=>window.clearTimeout(F.current),[]),Hn();const A=s.useCallback(m=>{var O,k;return W.current===((O=K.current)==null?void 0:O.side)&&Wr(m,(k=K.current)==null?void 0:k.area)},[]);return t.jsx(_r,{scope:n,searchRef:V,onItemEnter:s.useCallback(m=>{A(m)&&m.preventDefault()},[A]),onItemLeave:s.useCallback(m=>{var S;A(m)||((S=D.current)==null||S.focus(),N(null))},[A]),onTriggerLeave:s.useCallback(m=>{A(m)&&m.preventDefault()},[A]),pointerGraceTimerRef:z,onPointerGraceIntentChange:s.useCallback(m=>{K.current=m},[]),children:t.jsx(_,{...$,children:t.jsx(Xn,{asChild:!0,trapped:i,onMountAutoFocus:b(a,m=>{var S;m.preventDefault(),(S=D.current)==null||S.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:t.jsx(Yn,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:x,onDismiss:g,children:t.jsx(ur,{asChild:!0,...M,dir:j.dir,orientation:"vertical",loop:o,currentTabStopId:R,onCurrentTabStopIdChange:N,onEntryFocus:b(p,m=>{j.isUsingKeyboardRef.current||m.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(ir,{role:"menu","aria-orientation":"vertical","data-state":Dt(v.open),"data-radix-menu-content":"",dir:j.dir,...C,...y,ref:B,style:{outline:"none",...y.style},onKeyDown:b(y.onKeyDown,m=>{const O=m.target.closest("[data-radix-menu-content]")===m.currentTarget,k=m.ctrlKey||m.altKey||m.metaKey,U=m.key.length===1;O&&(m.key==="Tab"&&m.preventDefault(),!k&&U&&H(m.key));const J=D.current;if(m.target!==J||!yr.includes(m.key))return;m.preventDefault();const te=E().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);lt.includes(m.key)&&te.reverse(),Vr(te)}),onBlur:b(e.onBlur,m=>{m.currentTarget.contains(m.target)||(window.clearTimeout(F.current),V.current="")}),onPointerMove:b(e.onPointerMove,ae(m=>{const S=m.target,O=h.current!==m.clientX;if(m.currentTarget.contains(S)&&O){const k=m.clientX>h.current?"right":"left";W.current=k,h.current=m.clientX}}))})})})})})})});ht.displayName=L;var Dr="MenuGroup",Pe=s.forwardRef((e,r)=>{const{__scopeMenu:n,...o}=e;return t.jsx(I.div,{role:"group",...o,ref:r})});Pe.displayName=Dr;var Ar="MenuLabel",gt=s.forwardRef((e,r)=>{const{__scopeMenu:n,...o}=e;return t.jsx(I.div,{...o,ref:r})});gt.displayName=Ar;var le="MenuItem",Ue="menu.itemSelect",xe=s.forwardRef((e,r)=>{const{disabled:n=!1,onSelect:o,...i}=e,a=s.useRef(null),c=de(le,e.__scopeMenu),l=Re(le,e.__scopeMenu),p=X(r,a),u=s.useRef(!1),f=()=>{const d=a.current;if(!n&&d){const x=new CustomEvent(Ue,{bubbles:!0,cancelable:!0});d.addEventListener(Ue,g=>o==null?void 0:o(g),{once:!0}),rt(d,x),x.defaultPrevented?u.current=!1:c.onClose()}};return t.jsx(wt,{...i,ref:p,disabled:n,onClick:b(e.onClick,f),onPointerDown:d=>{var x;(x=e.onPointerDown)==null||x.call(e,d),u.current=!0},onPointerUp:b(e.onPointerUp,d=>{var x;u.current||(x=d.currentTarget)==null||x.click()}),onKeyDown:b(e.onKeyDown,d=>{const x=l.searchRef.current!=="";n||x&&d.key===" "||we.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});xe.displayName=le;var wt=s.forwardRef((e,r)=>{const{__scopeMenu:n,disabled:o=!1,textValue:i,...a}=e,c=Re(le,n),l=ft(n),p=s.useRef(null),u=X(r,p),[f,d]=s.useState(!1),[x,g]=s.useState("");return s.useEffect(()=>{const w=p.current;w&&g((w.textContent??"").trim())},[a.children]),t.jsx(se.ItemSlot,{scope:n,disabled:o,textValue:i??x,children:t.jsx(lr,{asChild:!0,...l,focusable:!o,children:t.jsx(I.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...a,ref:u,onPointerMove:b(e.onPointerMove,ae(w=>{o?c.onItemLeave(w):(c.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:b(e.onPointerLeave,ae(w=>c.onItemLeave(w))),onFocus:b(e.onFocus,()=>d(!0)),onBlur:b(e.onBlur,()=>d(!1))})})})}),Or="MenuCheckboxItem",bt=s.forwardRef((e,r)=>{const{checked:n=!1,onCheckedChange:o,...i}=e;return t.jsx(jt,{scope:e.__scopeMenu,checked:n,children:t.jsx(xe,{role:"menuitemcheckbox","aria-checked":pe(n)?"mixed":n,...i,ref:r,"data-state":Se(n),onSelect:b(i.onSelect,()=>o==null?void 0:o(pe(n)?!0:!n),{checkForDefaultPrevented:!1})})})});bt.displayName=Or;var yt="MenuRadioGroup",[kr,Lr]=Y(yt,{value:void 0,onValueChange:()=>{}}),Ct=s.forwardRef((e,r)=>{const{value:n,onValueChange:o,...i}=e,a=ee(o);return t.jsx(kr,{scope:e.__scopeMenu,value:n,onValueChange:a,children:t.jsx(Pe,{...i,ref:r})})});Ct.displayName=yt;var Mt="MenuRadioItem",Tt=s.forwardRef((e,r)=>{const{value:n,...o}=e,i=Lr(Mt,e.__scopeMenu),a=n===i.value;return t.jsx(jt,{scope:e.__scopeMenu,checked:a,children:t.jsx(xe,{role:"menuitemradio","aria-checked":a,...o,ref:r,"data-state":Se(a),onSelect:b(o.onSelect,()=>{var c;return(c=i.onValueChange)==null?void 0:c.call(i,n)},{checkForDefaultPrevented:!1})})})});Tt.displayName=Mt;var _e="MenuItemIndicator",[jt,Fr]=Y(_e,{checked:!1}),Et=s.forwardRef((e,r)=>{const{__scopeMenu:n,forceMount:o,...i}=e,a=Fr(_e,n);return t.jsx(ie,{present:o||pe(a.checked)||a.checked===!0,children:t.jsx(I.span,{...i,ref:r,"data-state":Se(a.checked)})})});Et.displayName=_e;var Kr="MenuSeparator",Rt=s.forwardRef((e,r)=>{const{__scopeMenu:n,...o}=e;return t.jsx(I.div,{role:"separator","aria-orientation":"horizontal",...o,ref:r})});Rt.displayName=Kr;var $r="MenuArrow",Nt=s.forwardRef((e,r)=>{const{__scopeMenu:n,...o}=e,i=me(n);return t.jsx(cr,{...i,...o,ref:r})});Nt.displayName=$r;var Gr="MenuSub",[js,Pt]=Y(Gr),re="MenuSubTrigger",_t=s.forwardRef((e,r)=>{const n=q(re,e.__scopeMenu),o=de(re,e.__scopeMenu),i=Pt(re,e.__scopeMenu),a=Re(re,e.__scopeMenu),c=s.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:p}=a,u={__scopeMenu:e.__scopeMenu},f=s.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return s.useEffect(()=>f,[f]),s.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),p(null)}},[l,p]),t.jsx(je,{asChild:!0,...u,children:t.jsx(wt,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Dt(n.open),...e,ref:qe(r,i.onTriggerChange),onClick:d=>{var x;(x=e.onClick)==null||x.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:b(e.onPointerMove,ae(d=>{a.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(a.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:b(e.onPointerLeave,ae(d=>{var g,w;f();const x=(g=n.content)==null?void 0:g.getBoundingClientRect();if(x){const y=(w=n.content)==null?void 0:w.dataset.side,v=y==="right",j=v?-5:5,C=x[v?"left":"right"],M=x[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:d.clientX+j,y:d.clientY},{x:C,y:x.top},{x:M,y:x.top},{x:M,y:x.bottom},{x:C,y:x.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(d),d.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:b(e.onKeyDown,d=>{var g;const x=a.searchRef.current!=="";e.disabled||x&&d.key===" "||Cr[o.dir].includes(d.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),d.preventDefault())})})})});_t.displayName=re;var St="MenuSubContent",It=s.forwardRef((e,r)=>{const n=xt(L,e.__scopeMenu),{forceMount:o=n.forceMount,...i}=e,a=q(L,e.__scopeMenu),c=de(L,e.__scopeMenu),l=Pt(St,e.__scopeMenu),p=s.useRef(null),u=X(r,p);return t.jsx(se.Provider,{scope:e.__scopeMenu,children:t.jsx(ie,{present:o||a.open,children:t.jsx(se.Slot,{scope:e.__scopeMenu,children:t.jsx(Ne,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;c.isUsingKeyboardRef.current&&((d=p.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:b(e.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:b(e.onEscapeKeyDown,f=>{c.onClose(),f.preventDefault()}),onKeyDown:b(e.onKeyDown,f=>{var g;const d=f.currentTarget.contains(f.target),x=Mr[c.dir].includes(f.key);d&&x&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),f.preventDefault())})})})})})});It.displayName=St;function Dt(e){return e?"open":"closed"}function pe(e){return e==="indeterminate"}function Se(e){return pe(e)?"indeterminate":e?"checked":"unchecked"}function Vr(e){const r=document.activeElement;for(const n of e)if(n===r||(n.focus(),document.activeElement!==r))return}function zr(e,r){return e.map((n,o)=>e[(r+o)%e.length])}function Ur(e,r,n){const i=r.length>1&&Array.from(r).every(u=>u===r[0])?r[0]:r,a=n?e.indexOf(n):-1;let c=zr(e,Math.max(a,0));i.length===1&&(c=c.filter(u=>u!==n));const p=c.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return p!==n?p:void 0}function Br(e,r){const{x:n,y:o}=e;let i=!1;for(let a=0,c=r.length-1;a<r.length;c=a++){const l=r[a].x,p=r[a].y,u=r[c].x,f=r[c].y;p>o!=f>o&&n<(u-l)*(o-p)/(f-p)+l&&(i=!i)}return i}function Wr(e,r){if(!r)return!1;const n={x:e.clientX,y:e.clientY};return Br(n,r)}function ae(e){return r=>r.pointerType==="mouse"?e(r):void 0}var Hr=mt,Xr=je,Yr=vt,qr=ht,Jr=Pe,Zr=gt,Qr=xe,eo=bt,to=Ct,no=Tt,ro=Et,oo=Rt,so=Nt,ao=_t,io=It,Ie="DropdownMenu",[co,Es]=Te(Ie,[pt]),P=pt(),[uo,At]=co(Ie),Ot=e=>{const{__scopeDropdownMenu:r,children:n,dir:o,open:i,defaultOpen:a,onOpenChange:c,modal:l=!0}=e,p=P(r),u=s.useRef(null),[f=!1,d]=ot({prop:i,defaultProp:a,onChange:c});return t.jsx(uo,{scope:r,triggerId:Ve(),triggerRef:u,contentId:Ve(),open:f,onOpenChange:d,onOpenToggle:s.useCallback(()=>d(x=>!x),[d]),modal:l,children:t.jsx(Hr,{...p,open:f,onOpenChange:d,dir:o,modal:l,children:n})})};Ot.displayName=Ie;var kt="DropdownMenuTrigger",Lt=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,disabled:o=!1,...i}=e,a=At(kt,n),c=P(n);return t.jsx(Xr,{asChild:!0,...c,children:t.jsx(I.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...i,ref:qe(r,a.triggerRef),onPointerDown:b(e.onPointerDown,l=>{!o&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:b(e.onKeyDown,l=>{o||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Lt.displayName=kt;var lo="DropdownMenuPortal",Ft=e=>{const{__scopeDropdownMenu:r,...n}=e,o=P(r);return t.jsx(Yr,{...o,...n})};Ft.displayName=lo;var Kt="DropdownMenuContent",$t=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,i=At(Kt,n),a=P(n),c=s.useRef(!1);return t.jsx(qr,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...o,ref:r,onCloseAutoFocus:b(e.onCloseAutoFocus,l=>{var p;c.current||(p=i.triggerRef.current)==null||p.focus(),c.current=!1,l.preventDefault()}),onInteractOutside:b(e.onInteractOutside,l=>{const p=l.detail.originalEvent,u=p.button===0&&p.ctrlKey===!0,f=p.button===2||u;(!i.modal||f)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$t.displayName=Kt;var po="DropdownMenuGroup",Gt=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,i=P(n);return t.jsx(Jr,{...i,...o,ref:r})});Gt.displayName=po;var fo="DropdownMenuLabel",Vt=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,i=P(n);return t.jsx(Zr,{...i,...o,ref:r})});Vt.displayName=fo;var mo="DropdownMenuItem",zt=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,i=P(n);return t.jsx(Qr,{...i,...o,ref:r})});zt.displayName=mo;var xo="DropdownMenuCheckboxItem",Ut=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,i=P(n);return t.jsx(eo,{...i,...o,ref:r})});Ut.displayName=xo;var vo="DropdownMenuRadioGroup",ho=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,i=P(n);return t.jsx(to,{...i,...o,ref:r})});ho.displayName=vo;var go="DropdownMenuRadioItem",Bt=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,i=P(n);return t.jsx(no,{...i,...o,ref:r})});Bt.displayName=go;var wo="DropdownMenuItemIndicator",Wt=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,i=P(n);return t.jsx(ro,{...i,...o,ref:r})});Wt.displayName=wo;var bo="DropdownMenuSeparator",Ht=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,i=P(n);return t.jsx(oo,{...i,...o,ref:r})});Ht.displayName=bo;var yo="DropdownMenuArrow",Co=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,i=P(n);return t.jsx(so,{...i,...o,ref:r})});Co.displayName=yo;var Mo="DropdownMenuSubTrigger",Xt=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,i=P(n);return t.jsx(ao,{...i,...o,ref:r})});Xt.displayName=Mo;var To="DropdownMenuSubContent",Yt=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,i=P(n);return t.jsx(io,{...i,...o,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Yt.displayName=To;var jo=Ot,Eo=Lt,Ro=Ft,qt=$t,No=Gt,Jt=Vt,Zt=zt,Qt=Ut,en=Bt,tn=Wt,nn=Ht,rn=Xt,on=Yt;const Po=jo,_o=Eo,So=No,Io=s.forwardRef(({className:e,inset:r,children:n,...o},i)=>t.jsxs(rn,{ref:i,className:T("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",e),...o,children:[n,t.jsx(pr,{className:"ml-auto h-4 w-4"})]}));Io.displayName=rn.displayName;const Do=s.forwardRef(({className:e,...r},n)=>t.jsx(on,{ref:n,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Do.displayName=on.displayName;const sn=s.forwardRef(({className:e,sideOffset:r=4,...n},o)=>t.jsx(Ro,{children:t.jsx(qt,{ref:o,sideOffset:r,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));sn.displayName=qt.displayName;const be=s.forwardRef(({className:e,inset:r,...n},o)=>t.jsx(Zt,{ref:o,className:T("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 cursor-pointer",r&&"pl-8",e),...n}));be.displayName=Zt.displayName;const Ao=s.forwardRef(({className:e,children:r,checked:n,...o},i)=>t.jsxs(Qt,{ref:i,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...o,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(tn,{children:t.jsx(fr,{className:"h-4 w-4"})})}),r]}));Ao.displayName=Qt.displayName;const Oo=s.forwardRef(({className:e,children:r,...n},o)=>t.jsxs(en,{ref:o,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(tn,{})}),r]}));Oo.displayName=en.displayName;const an=s.forwardRef(({className:e,inset:r,...n},o)=>t.jsx(Jt,{ref:o,className:T("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...n}));an.displayName=Jt.displayName;const cn=s.forwardRef(({className:e,...r},n)=>t.jsx(nn,{ref:n,className:T("-mx-1 my-1 h-px bg-muted",e),...r}));cn.displayName=nn.displayName;const Be=[{name:"Événements",href:"/dashboard"},{name:"Paramètres",href:"/dashboard/organisations/settings"}],ko=()=>{const[e,r]=s.useState(!1),{url:n,props:{permissions:o,auth:i}}=fe();return console.log(n),t.jsxs("header",{className:"border-b border-border",children:[t.jsxs("div",{className:"container h-16 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx(hr,{}),t.jsx("nav",{className:"shrink-0 hidden md:block",children:t.jsx("ul",{className:"flex items-center gap-6",children:Be.map(a=>{const c=n.startsWith("/dashboard/events")&&a.href==="/dashboard/events",l=n===a.href,p=n.startsWith(a.href)&&a.href!=="/dashboard",u=l||p||c;return t.jsx("li",{children:t.jsx(Ke,{href:a.href,as:"button",className:T("text-sm font-medium disabled:cursor-not-allowed",u?"text-primary":"text-primary/50"),disabled:a.href==="/dashboard/organisations/settings"&&!o.organization.settings,children:a.name})},a.name)})})})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("button",{className:"block md:hidden",onClick:()=>r(!e),"aria-label":"Toggle Menu",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),t.jsx(We,{className:"hidden md:block"})]})]}),t.jsx("div",{className:T("bg-black/50 fixed inset-0 md:hidden transition-all z-20",{hidden:!e})}),t.jsx("div",{className:T("fixed top-0 right-0 bottom-0 h-full w-72 bg-white shadow-lg transform transition-transform duration-300 ease-in-out md:hidden z-20 ",{"translate-x-0":e,"translate-x-full":!e}),children:t.jsxs("div",{className:"p-6",children:[t.jsx("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700 mb-4","aria-label":"Close Menu",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),t.jsx("ul",{className:"flex flex-col gap-3 mb-5 border-b border-border pb-5",children:Be.map(a=>t.jsx("li",{children:t.jsx(Ke,{href:a.href,as:"button",className:T("text-sm font-medium disabled:cursor-not-allowed",n===a.href?"text-primary":"text-primary/50"),disabled:a.href==="/dashboard/organisations/settings"&&!o.organization.settings,children:a.name})},a.name))}),t.jsx(We,{className:"float-right"})]})})]})},We=({className:e})=>{const{auth:r}=fe().props,n=o=>{Ye.get(o)};return t.jsx("div",{className:e,children:t.jsxs(Po,{children:[t.jsx(_o,{asChild:!0,children:t.jsxs(oe,{variant:"none",className:"flex items-center md:flex-row-reverse gap-3",children:[t.jsx("span",{children:r.user.name}),t.jsx(Lo,{src:r.user.image})]})}),t.jsxs(sn,{className:"w-44 mt-0",align:"end",children:[t.jsx(an,{children:r.user.name}),t.jsx(cn,{}),t.jsxs(So,{children:[t.jsx(be,{onClick:()=>n(route("customer.home")),children:"Retour au site"}),t.jsx(be,{onClick:()=>n(route("logout")),children:"Déconnexion"})]})]})]})})},Lo=({src:e,className:r})=>(fe().props,t.jsxs(An,{className:T("w-9 h-9 aspect-square ring-1 ring-border ring-offset-2 shrink-0",r),children:[t.jsx(On,{src:e}),t.jsx(kn,{children:t.jsx("span",{children:"JD"})})]}));var De="ToastProvider",[Ae,Fo,Ko]=st("Toast"),[dn,Rs]=Te("Toast",[Ko]),[$o,ve]=dn(De),un=e=>{const{__scopeToast:r,label:n="Notification",duration:o=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:c}=e,[l,p]=s.useState(null),[u,f]=s.useState(0),d=s.useRef(!1),x=s.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${De}\`. Expected non-empty \`string\`.`),t.jsx(Ae.Provider,{scope:r,children:t.jsx($o,{scope:r,label:n,duration:o,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:p,onToastAdd:s.useCallback(()=>f(g=>g+1),[]),onToastRemove:s.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:x,children:c})})};un.displayName=De;var ln="ToastViewport",Go=["F8"],ye="toast.viewportPause",Ce="toast.viewportResume",pn=s.forwardRef((e,r)=>{const{__scopeToast:n,hotkey:o=Go,label:i="Notifications ({hotkey})",...a}=e,c=ve(ln,n),l=Fo(n),p=s.useRef(null),u=s.useRef(null),f=s.useRef(null),d=s.useRef(null),x=X(r,d,c.onViewportChange),g=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=c.toastCount>0;s.useEffect(()=>{const v=j=>{var M;o.every(E=>j[E]||j.code===E)&&((M=d.current)==null||M.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[o]),s.useEffect(()=>{const v=p.current,j=d.current;if(w&&v&&j){const C=()=>{if(!c.isClosePausedRef.current){const N=new CustomEvent(ye);j.dispatchEvent(N),c.isClosePausedRef.current=!0}},M=()=>{if(c.isClosePausedRef.current){const N=new CustomEvent(Ce);j.dispatchEvent(N),c.isClosePausedRef.current=!1}},E=N=>{!v.contains(N.relatedTarget)&&M()},R=()=>{v.contains(document.activeElement)||M()};return v.addEventListener("focusin",C),v.addEventListener("focusout",E),v.addEventListener("pointermove",C),v.addEventListener("pointerleave",R),window.addEventListener("blur",C),window.addEventListener("focus",M),()=>{v.removeEventListener("focusin",C),v.removeEventListener("focusout",E),v.removeEventListener("pointermove",C),v.removeEventListener("pointerleave",R),window.removeEventListener("blur",C),window.removeEventListener("focus",M)}}},[w,c.isClosePausedRef]);const y=s.useCallback(({tabbingDirection:v})=>{const C=l().map(M=>{const E=M.ref.current,R=[E,...es(E)];return v==="forwards"?R:R.reverse()});return(v==="forwards"?C.reverse():C).flat()},[l]);return s.useEffect(()=>{const v=d.current;if(v){const j=C=>{var R,N,D;const M=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!M){const B=document.activeElement,F=C.shiftKey;if(C.target===v&&F){(R=u.current)==null||R.focus();return}const K=y({tabbingDirection:F?"backwards":"forwards"}),W=K.findIndex(h=>h===B);ge(K.slice(W+1))?C.preventDefault():F?(N=u.current)==null||N.focus():(D=f.current)==null||D.focus()}};return v.addEventListener("keydown",j),()=>v.removeEventListener("keydown",j)}},[l,y]),t.jsxs(Jn,{ref:p,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&t.jsx(Me,{ref:u,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"forwards"});ge(v)}}),t.jsx(Ae.Slot,{scope:n,children:t.jsx(I.ol,{tabIndex:-1,...a,ref:x})}),w&&t.jsx(Me,{ref:f,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"backwards"});ge(v)}})]})});pn.displayName=ln;var fn="ToastFocusProxy",Me=s.forwardRef((e,r)=>{const{__scopeToast:n,onFocusFromOutsideViewport:o,...i}=e,a=ve(fn,n);return t.jsx(nt,{"aria-hidden":!0,tabIndex:0,...i,ref:r,style:{position:"fixed"},onFocus:c=>{var u;const l=c.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&o()}})});Me.displayName=fn;var he="Toast",Vo="toast.swipeStart",zo="toast.swipeMove",Uo="toast.swipeCancel",Bo="toast.swipeEnd",mn=s.forwardRef((e,r)=>{const{forceMount:n,open:o,defaultOpen:i,onOpenChange:a,...c}=e,[l=!0,p]=ot({prop:o,defaultProp:i,onChange:a});return t.jsx(ie,{present:n||l,children:t.jsx(Xo,{open:l,...c,ref:r,onClose:()=>p(!1),onPause:ee(e.onPause),onResume:ee(e.onResume),onSwipeStart:b(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:b(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:b(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:b(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),p(!1)})})})});mn.displayName=he;var[Wo,Ho]=dn(he,{onClose(){}}),Xo=s.forwardRef((e,r)=>{const{__scopeToast:n,type:o="foreground",duration:i,open:a,onClose:c,onEscapeKeyDown:l,onPause:p,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:x,onSwipeEnd:g,...w}=e,y=ve(he,n),[v,j]=s.useState(null),C=X(r,h=>j(h)),M=s.useRef(null),E=s.useRef(null),R=i||y.duration,N=s.useRef(0),D=s.useRef(R),B=s.useRef(0),{onToastAdd:F,onToastRemove:V}=y,z=ee(()=>{var _;(v==null?void 0:v.contains(document.activeElement))&&((_=y.viewport)==null||_.focus()),c()}),K=s.useCallback(h=>{!h||h===1/0||(window.clearTimeout(B.current),N.current=new Date().getTime(),B.current=window.setTimeout(z,h))},[z]);s.useEffect(()=>{const h=y.viewport;if(h){const _=()=>{K(D.current),u==null||u()},$=()=>{const H=new Date().getTime()-N.current;D.current=D.current-H,window.clearTimeout(B.current),p==null||p()};return h.addEventListener(ye,$),h.addEventListener(Ce,_),()=>{h.removeEventListener(ye,$),h.removeEventListener(Ce,_)}}},[y.viewport,R,p,u,K]),s.useEffect(()=>{a&&!y.isClosePausedRef.current&&K(R)},[a,R,y.isClosePausedRef,K]),s.useEffect(()=>(F(),()=>V()),[F,V]);const W=s.useMemo(()=>v?yn(v):null,[v]);return y.viewport?t.jsxs(t.Fragment,{children:[W&&t.jsx(Yo,{__scopeToast:n,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),t.jsx(Wo,{scope:n,onClose:z,children:Dn.createPortal(t.jsx(Ae.ItemSlot,{scope:n,children:t.jsx(Zn,{asChild:!0,onEscapeKeyDown:b(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||z(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(I.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:b(e.onKeyDown,h=>{h.key==="Escape"&&(l==null||l(h.nativeEvent),h.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:b(e.onPointerDown,h=>{h.button===0&&(M.current={x:h.clientX,y:h.clientY})}),onPointerMove:b(e.onPointerMove,h=>{if(!M.current)return;const _=h.clientX-M.current.x,$=h.clientY-M.current.y,H=!!E.current,A=["left","right"].includes(y.swipeDirection),m=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,S=A?m(0,_):0,O=A?0:m(0,$),k=h.pointerType==="touch"?10:2,U={x:S,y:O},J={originalEvent:h,delta:U};H?(E.current=U,ue(zo,d,J,{discrete:!1})):He(U,y.swipeDirection,k)?(E.current=U,ue(Vo,f,J,{discrete:!1}),h.target.setPointerCapture(h.pointerId)):(Math.abs(_)>k||Math.abs($)>k)&&(M.current=null)}),onPointerUp:b(e.onPointerUp,h=>{const _=E.current,$=h.target;if($.hasPointerCapture(h.pointerId)&&$.releasePointerCapture(h.pointerId),E.current=null,M.current=null,_){const H=h.currentTarget,A={originalEvent:h,delta:_};He(_,y.swipeDirection,y.swipeThreshold)?ue(Bo,g,A,{discrete:!0}):ue(Uo,x,A,{discrete:!0}),H.addEventListener("click",m=>m.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Yo=e=>{const{__scopeToast:r,children:n,...o}=e,i=ve(he,r),[a,c]=s.useState(!1),[l,p]=s.useState(!1);return Zo(()=>c(!0)),s.useEffect(()=>{const u=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:t.jsx(Je,{asChild:!0,children:t.jsx(nt,{...o,children:a&&t.jsxs(t.Fragment,{children:[i.label," ",n]})})})},qo="ToastTitle",xn=s.forwardRef((e,r)=>{const{__scopeToast:n,...o}=e;return t.jsx(I.div,{...o,ref:r})});xn.displayName=qo;var Jo="ToastDescription",vn=s.forwardRef((e,r)=>{const{__scopeToast:n,...o}=e;return t.jsx(I.div,{...o,ref:r})});vn.displayName=Jo;var hn="ToastAction",gn=s.forwardRef((e,r)=>{const{altText:n,...o}=e;return n.trim()?t.jsx(bn,{altText:n,asChild:!0,children:t.jsx(Oe,{...o,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${hn}\`. Expected non-empty \`string\`.`),null)});gn.displayName=hn;var wn="ToastClose",Oe=s.forwardRef((e,r)=>{const{__scopeToast:n,...o}=e,i=Ho(wn,n);return t.jsx(bn,{asChild:!0,children:t.jsx(I.button,{type:"button",...o,ref:r,onClick:b(e.onClick,i.onClose)})})});Oe.displayName=wn;var bn=s.forwardRef((e,r)=>{const{__scopeToast:n,altText:o,...i}=e;return t.jsx(I.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...i,ref:r})});function yn(e){const r=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&r.push(o.textContent),Qo(o)){const i=o.ariaHidden||o.hidden||o.style.display==="none",a=o.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const c=o.dataset.radixToastAnnounceAlt;c&&r.push(c)}else r.push(...yn(o))}}),r}function ue(e,r,n,{discrete:o}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});r&&i.addEventListener(e,r,{once:!0}),o?rt(i,a):i.dispatchEvent(a)}var He=(e,r,n=0)=>{const o=Math.abs(e.x),i=Math.abs(e.y),a=o>i;return r==="left"||r==="right"?a&&o>n:!a&&i>n};function Zo(e=()=>{}){const r=ee(e);tr(()=>{let n=0,o=0;return n=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(o)}},[r])}function Qo(e){return e.nodeType===e.ELEMENT_NODE}function es(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function ge(e){const r=document.activeElement;return e.some(n=>n===r?!0:(n.focus(),document.activeElement!==r))}var ts=un,Cn=pn,Mn=mn,Tn=xn,jn=vn,En=gn,Rn=Oe;const ns=ts,Nn=s.forwardRef(({className:e,...r},n)=>t.jsx(Cn,{ref:n,className:T("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-4 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));Nn.displayName=Cn.displayName;const rs=Kn("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Pn=s.forwardRef(({className:e,variant:r,...n},o)=>t.jsx(Mn,{ref:o,className:T(rs({variant:r}),e),...n}));Pn.displayName=Mn.displayName;const os=s.forwardRef(({className:e,...r},n)=>t.jsx(En,{ref:n,className:T("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r}));os.displayName=En.displayName;const _n=s.forwardRef(({className:e,...r},n)=>t.jsx(Rn,{ref:n,className:T("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r}));_n.displayName=Rn.displayName;const Sn=s.forwardRef(({className:e,...r},n)=>t.jsx(Tn,{ref:n,className:T("text-sm font-semibold [&+div]:text-xs",e),...r}));Sn.displayName=Tn.displayName;const In=s.forwardRef(({className:e,...r},n)=>t.jsx(jn,{ref:n,className:T("text-sm opacity-90",e),...r}));In.displayName=jn.displayName;function ss(){const{toasts:e}=or();return t.jsxs(ns,{children:[e.map(function({id:r,title:n,description:o,action:i,...a}){return t.jsxs(Pn,{...a,children:[t.jsxs("div",{className:"grid gap-1",children:[n&&t.jsx(Sn,{children:n}),o&&t.jsx(In,{children:o})]}),i,t.jsx(_n,{})]},r)}),t.jsx(Nn,{})]})}const as=({children:e,container:r=!0,className:n})=>t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx(ko,{}),t.jsx("main",{className:T("pb-12",r?"container":"",n),children:e}),t.jsx(ss,{})]}),Ns=as;export{Ns as A,wr as C,Po as D,ut as S,_o as a,sn as b,an as c,be as d,Ao as e};

import{r as s,j as t,q as fe,W as Xe,y as Ye,a as $e,b as Dn}from"./app-BSg7tcV-.js";import{A as An,a as On,b as kn}from"./avatar-ButMWc8x.js";import{c as T,e as Ge,u as X,f as qe,S as Fn}from"./utils-B0fn8ihL.js";import{P as Ln}from"./react-icons.esm-CCC4ONUB.js";import{B as ue}from"./button-CrsewIh4.js";import{f as Kn,D as $n,b as Gn,c as Vn,d as zn,e as Un,o as Bn,q as Wn,F as Hn,r as Xn,p as Yn,P as Je,B as qn,t as Jn}from"./dialog-BHgiNgJn.js";import{I as we}from"./label-CCQKrebs.js";import{S as Ze,a as Qe,b as et,c as tt,d as Q,e as Zn,f as Qn,V as nt}from"./select-81fZS2R4.js";import{P as I,d as ot}from"./index-Dhe9Iuj7.js";import{T as eo}from"./textarea-WMTxw_PN.js";import{F as ne}from"./Field-B_QrgzO7.js";import{t as to,u as no}from"./use-toast-DL6Jf7Lj.js";import{c as Ee,P as ae,a as g,b as ee,u as rt,d as oo}from"./index-B6FVuNCK.js";import{c as st,u as ro}from"./index-DxOe1-pG.js";import{c as at,A as so,C as ao,a as io,R as co}from"./index-DYbuBnVH.js";import{c as it,R as uo,I as lo}from"./index-Dxh5GxJh.js";import{u as Ve}from"./index-Ds_mV5rb.js";import{C as po}from"./chevron-right-9hEqs-4T.js";import{C as fo}from"./index-jbec320_.js";import{c as mo}from"./index-Bb4qSo10.js";var xo="Separator",ze="horizontal",vo=["horizontal","vertical"],ct=s.forwardRef((e,o)=>{const{decorative:n,orientation:r=ze,...i}=e,a=ho(r)?r:ze,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return t.jsx(I.div,{"data-orientation":a,...l,...i,ref:o})});ct.displayName=xo;function ho(e){return vo.includes(e)}var dt=ct;const ut=s.forwardRef(({className:e,orientation:o="horizontal",decorative:n=!0,...r},i)=>t.jsx(dt,{ref:i,decorative:n,orientation:o,className:T("shrink-0 bg-border",o==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));ut.displayName=dt.displayName;const wo=()=>{var d,x;const{props:{auth:e}}=fe(),[o,n]=s.useState(((d=e.organizationLogged)==null?void 0:d.id)||((x=e.user.organizations[0])==null?void 0:x.id)),{data:r,setData:i,post:a}=Xe({organizationId:o}),c=s.useRef(!1);s.useEffect(()=>{c.current&&a(route("organizations.switch"))},[r]),s.useEffect(()=>{var w,b;n(((w=e.organizationLogged)==null?void 0:w.id)||((b=e.user.organizations[0])==null?void 0:b.id))},[e.organizationLogged,e.user.organizations]);const l=w=>{const b=parseInt(w,10);n(b),i("organizationId",b),c.current=!0},p=e.user.organizations.find(w=>w.id===o),[u,f]=s.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsxs(Ze,{value:o.toString(),onValueChange:l,children:[t.jsx(Qe,{className:"w-52 flex items-center gap-2",children:t.jsx(et,{children:t.jsxs("div",{className:"flex items-center gap-2 truncate",children:[t.jsx("span",{className:"shrink-0",children:t.jsx("img",{src:p==null?void 0:p.logo,alt:"",className:"w-6 h-6 cover rounded-full"})}),Ge(p==null?void 0:p.name)]})})}),t.jsx(tt,{children:t.jsxs(Zn,{children:[t.jsx(Qn,{children:"Organisations"}),e.user.organizations.map(w=>t.jsx(Q,{value:w.id.toString(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:" ",children:t.jsx("img",{src:w.logo,alt:"",className:"w-6 h-6 cover rounded-full"})}),Ge(w.name)]})},w.id)),t.jsx(ut,{className:"my-1"}),t.jsxs(ue,{variant:"outline",className:"w-full",onClick:()=>f(!0),children:[t.jsx(Ln,{className:"mr-2 "}),"Créer une organisation"]})]})})]}),t.jsx(go,{open:u,handleOpen:f})]})},go=({open:e,handleOpen:o})=>{const{data:n,setData:r,post:i,errors:a,reset:c}=Xe({name:"",type:"association",description:"",logo:"",website:""}),l=()=>{i(route("shared.organizations.store"),{onSuccess:({props:{flash:p}})=>{c(),Ye.reload(),o&&o(!1),to({title:"Succès",description:p.success})}})};return t.jsx($n,{open:e,onOpenChange:o,children:t.jsxs(Gn,{children:[t.jsxs(Vn,{children:[t.jsx(zn,{children:"Créer une organisation"}),t.jsx(Un,{children:"Créez une nouvelle organisation pour gérer vos événements."})]}),t.jsx(bo,{handleOpen:o,data:n,errors:a,setData:r,handleSubmit:l})]})})},bo=({data:e,setData:o,errors:n,handleSubmit:r,handleOpen:i})=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx(ne,{label:"Nom",id:"name",className:"col-span-2",errors:n,children:t.jsx(we,{id:"name",value:e.name,onChange:a=>o("name",a.target.value)})}),t.jsx(ne,{label:"Type",id:"type",errors:n,children:t.jsxs(Ze,{onValueChange:a=>o("type",a),defaultValue:e.type,children:[t.jsx(Qe,{children:t.jsx(et,{defaultValue:e.type})}),t.jsxs(tt,{align:"end",children:[t.jsx(Q,{value:"association",children:"Association"}),t.jsx(Q,{value:"entreprise",children:"Entreprise"}),t.jsx(Q,{value:"label",children:"Label de musique"}),t.jsx(Q,{value:"collectif",children:"Collectif artistique"}),t.jsx(Q,{value:"particulier",children:"Particulier"})]})]})})]}),t.jsxs(ne,{label:"Description",id:"description",errors:n,required:!1,children:[t.jsx(eo,{id:"description",value:e.description,onChange:a=>o("description",a.target.value)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Écrivez une brève description de votre organisation (Mission, style musical, histoire, etc.)"})]}),t.jsx(ne,{label:"Logo",id:"logo",errors:n,required:!1,children:t.jsx(we,{type:"file",id:"logo",onChange:a=>{var c;return o("logo",((c=a.target.files)==null?void 0:c[0])||null)}})}),t.jsx(ne,{label:"Site web",id:"website",required:!1,errors:n,children:t.jsx(we,{id:"website",value:e.website,onChange:a=>o("website",a.target.value)})})]}),r&&t.jsxs(Kn,{children:[t.jsx(ue,{type:"submit",variant:"secondary",className:"mt-2 md:mt-0",onClick:()=>i&&i(!1),children:"Annuler"}),t.jsx(ue,{onClick:r,children:"Sauvegarder"})]})]});var be=["Enter"," "],yo=["ArrowDown","PageUp","Home"],lt=["ArrowUp","PageDown","End"],Co=[...yo,...lt],Mo={ltr:[...be,"ArrowRight"],rtl:[...be,"ArrowLeft"]},To={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ie="Menu",[re,Eo,Ro]=st(ie),[Y,pt]=Ee(ie,[Ro,at,it]),me=at(),ft=it(),[jo,q]=Y(ie),[No,ce]=Y(ie),mt=e=>{const{__scopeMenu:o,open:n=!1,children:r,dir:i,onOpenChange:a,modal:c=!0}=e,l=me(o),[p,u]=s.useState(null),f=s.useRef(!1),d=ee(a),x=ro(i);return s.useEffect(()=>{const w=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),t.jsx(co,{...l,children:t.jsx(jo,{scope:o,open:n,onOpenChange:d,content:p,onContentChange:u,children:t.jsx(No,{scope:o,onClose:s.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:x,modal:c,children:r})})})};mt.displayName=ie;var _o="MenuAnchor",Re=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e,i=me(n);return t.jsx(so,{...i,...r,ref:o})});Re.displayName=_o;var je="MenuPortal",[Po,xt]=Y(je,{forceMount:void 0}),vt=e=>{const{__scopeMenu:o,forceMount:n,children:r,container:i}=e,a=q(je,o);return t.jsx(Po,{scope:o,forceMount:n,children:t.jsx(ae,{present:n||a.open,children:t.jsx(Je,{asChild:!0,container:i,children:r})})})};vt.displayName=je;var F="MenuContent",[So,Ne]=Y(F),ht=s.forwardRef((e,o)=>{const n=xt(F,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=q(F,e.__scopeMenu),c=ce(F,e.__scopeMenu);return t.jsx(re.Provider,{scope:e.__scopeMenu,children:t.jsx(ae,{present:r||a.open,children:t.jsx(re.Slot,{scope:e.__scopeMenu,children:c.modal?t.jsx(Io,{...i,ref:o}):t.jsx(Do,{...i,ref:o})})})})}),Io=s.forwardRef((e,o)=>{const n=q(F,e.__scopeMenu),r=s.useRef(null),i=X(o,r);return s.useEffect(()=>{const a=r.current;if(a)return Bn(a)},[]),t.jsx(_e,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:g(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Do=s.forwardRef((e,o)=>{const n=q(F,e.__scopeMenu);return t.jsx(_e,{...e,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),_e=s.forwardRef((e,o)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:c,disableOutsidePointerEvents:l,onEntryFocus:p,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:x,onDismiss:w,disableOutsideScroll:b,...y}=e,v=q(F,n),E=ce(F,n),C=me(n),M=ft(n),R=Eo(n),[j,N]=s.useState(null),D=s.useRef(null),B=X(o,D,v.onContentChange),L=s.useRef(0),V=s.useRef(""),z=s.useRef(0),K=s.useRef(null),W=s.useRef("right"),h=s.useRef(0),P=b?Yn:s.Fragment,$=b?{as:Fn,allowPinchZoom:!0}:void 0,H=m=>{var Z,Le;const S=V.current+m,O=R().filter(G=>!G.disabled),k=document.activeElement,U=(Z=O.find(G=>G.ref.current===k))==null?void 0:Z.textValue,J=O.map(G=>G.textValue),Fe=Bo(J,S,U),te=(Le=O.find(G=>G.textValue===Fe))==null?void 0:Le.ref.current;(function G(Ke){V.current=Ke,window.clearTimeout(L.current),Ke!==""&&(L.current=window.setTimeout(()=>G(""),1e3))})(S),te&&setTimeout(()=>te.focus())};s.useEffect(()=>()=>window.clearTimeout(L.current),[]),Wn();const A=s.useCallback(m=>{var O,k;return W.current===((O=K.current)==null?void 0:O.side)&&Ho(m,(k=K.current)==null?void 0:k.area)},[]);return t.jsx(So,{scope:n,searchRef:V,onItemEnter:s.useCallback(m=>{A(m)&&m.preventDefault()},[A]),onItemLeave:s.useCallback(m=>{var S;A(m)||((S=D.current)==null||S.focus(),N(null))},[A]),onTriggerLeave:s.useCallback(m=>{A(m)&&m.preventDefault()},[A]),pointerGraceTimerRef:z,onPointerGraceIntentChange:s.useCallback(m=>{K.current=m},[]),children:t.jsx(P,{...$,children:t.jsx(Hn,{asChild:!0,trapped:i,onMountAutoFocus:g(a,m=>{var S;m.preventDefault(),(S=D.current)==null||S.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:t.jsx(Xn,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:x,onDismiss:w,children:t.jsx(uo,{asChild:!0,...M,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:g(p,m=>{E.isUsingKeyboardRef.current||m.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(ao,{role:"menu","aria-orientation":"vertical","data-state":Dt(v.open),"data-radix-menu-content":"",dir:E.dir,...C,...y,ref:B,style:{outline:"none",...y.style},onKeyDown:g(y.onKeyDown,m=>{const O=m.target.closest("[data-radix-menu-content]")===m.currentTarget,k=m.ctrlKey||m.altKey||m.metaKey,U=m.key.length===1;O&&(m.key==="Tab"&&m.preventDefault(),!k&&U&&H(m.key));const J=D.current;if(m.target!==J||!Co.includes(m.key))return;m.preventDefault();const te=R().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);lt.includes(m.key)&&te.reverse(),zo(te)}),onBlur:g(e.onBlur,m=>{m.currentTarget.contains(m.target)||(window.clearTimeout(L.current),V.current="")}),onPointerMove:g(e.onPointerMove,se(m=>{const S=m.target,O=h.current!==m.clientX;if(m.currentTarget.contains(S)&&O){const k=m.clientX>h.current?"right":"left";W.current=k,h.current=m.clientX}}))})})})})})})});ht.displayName=F;var Ao="MenuGroup",Pe=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e;return t.jsx(I.div,{role:"group",...r,ref:o})});Pe.displayName=Ao;var Oo="MenuLabel",wt=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e;return t.jsx(I.div,{...r,ref:o})});wt.displayName=Oo;var le="MenuItem",Ue="menu.itemSelect",xe=s.forwardRef((e,o)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=s.useRef(null),c=ce(le,e.__scopeMenu),l=Ne(le,e.__scopeMenu),p=X(o,a),u=s.useRef(!1),f=()=>{const d=a.current;if(!n&&d){const x=new CustomEvent(Ue,{bubbles:!0,cancelable:!0});d.addEventListener(Ue,w=>r==null?void 0:r(w),{once:!0}),ot(d,x),x.defaultPrevented?u.current=!1:c.onClose()}};return t.jsx(gt,{...i,ref:p,disabled:n,onClick:g(e.onClick,f),onPointerDown:d=>{var x;(x=e.onPointerDown)==null||x.call(e,d),u.current=!0},onPointerUp:g(e.onPointerUp,d=>{var x;u.current||(x=d.currentTarget)==null||x.click()}),onKeyDown:g(e.onKeyDown,d=>{const x=l.searchRef.current!=="";n||x&&d.key===" "||be.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});xe.displayName=le;var gt=s.forwardRef((e,o)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,c=Ne(le,n),l=ft(n),p=s.useRef(null),u=X(o,p),[f,d]=s.useState(!1),[x,w]=s.useState("");return s.useEffect(()=>{const b=p.current;b&&w((b.textContent??"").trim())},[a.children]),t.jsx(re.ItemSlot,{scope:n,disabled:r,textValue:i??x,children:t.jsx(lo,{asChild:!0,...l,focusable:!r,children:t.jsx(I.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:g(e.onPointerMove,se(b=>{r?c.onItemLeave(b):(c.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:g(e.onPointerLeave,se(b=>c.onItemLeave(b))),onFocus:g(e.onFocus,()=>d(!0)),onBlur:g(e.onBlur,()=>d(!1))})})})}),ko="MenuCheckboxItem",bt=s.forwardRef((e,o)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return t.jsx(Et,{scope:e.__scopeMenu,checked:n,children:t.jsx(xe,{role:"menuitemcheckbox","aria-checked":pe(n)?"mixed":n,...i,ref:o,"data-state":Ie(n),onSelect:g(i.onSelect,()=>r==null?void 0:r(pe(n)?!0:!n),{checkForDefaultPrevented:!1})})})});bt.displayName=ko;var yt="MenuRadioGroup",[Fo,Lo]=Y(yt,{value:void 0,onValueChange:()=>{}}),Ct=s.forwardRef((e,o)=>{const{value:n,onValueChange:r,...i}=e,a=ee(r);return t.jsx(Fo,{scope:e.__scopeMenu,value:n,onValueChange:a,children:t.jsx(Pe,{...i,ref:o})})});Ct.displayName=yt;var Mt="MenuRadioItem",Tt=s.forwardRef((e,o)=>{const{value:n,...r}=e,i=Lo(Mt,e.__scopeMenu),a=n===i.value;return t.jsx(Et,{scope:e.__scopeMenu,checked:a,children:t.jsx(xe,{role:"menuitemradio","aria-checked":a,...r,ref:o,"data-state":Ie(a),onSelect:g(r.onSelect,()=>{var c;return(c=i.onValueChange)==null?void 0:c.call(i,n)},{checkForDefaultPrevented:!1})})})});Tt.displayName=Mt;var Se="MenuItemIndicator",[Et,Ko]=Y(Se,{checked:!1}),Rt=s.forwardRef((e,o)=>{const{__scopeMenu:n,forceMount:r,...i}=e,a=Ko(Se,n);return t.jsx(ae,{present:r||pe(a.checked)||a.checked===!0,children:t.jsx(I.span,{...i,ref:o,"data-state":Ie(a.checked)})})});Rt.displayName=Se;var $o="MenuSeparator",jt=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e;return t.jsx(I.div,{role:"separator","aria-orientation":"horizontal",...r,ref:o})});jt.displayName=$o;var Go="MenuArrow",Nt=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e,i=me(n);return t.jsx(io,{...i,...r,ref:o})});Nt.displayName=Go;var Vo="MenuSub",[js,_t]=Y(Vo),oe="MenuSubTrigger",Pt=s.forwardRef((e,o)=>{const n=q(oe,e.__scopeMenu),r=ce(oe,e.__scopeMenu),i=_t(oe,e.__scopeMenu),a=Ne(oe,e.__scopeMenu),c=s.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:p}=a,u={__scopeMenu:e.__scopeMenu},f=s.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return s.useEffect(()=>f,[f]),s.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),p(null)}},[l,p]),t.jsx(Re,{asChild:!0,...u,children:t.jsx(gt,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Dt(n.open),...e,ref:qe(o,i.onTriggerChange),onClick:d=>{var x;(x=e.onClick)==null||x.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:g(e.onPointerMove,se(d=>{a.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(a.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:g(e.onPointerLeave,se(d=>{var w,b;f();const x=(w=n.content)==null?void 0:w.getBoundingClientRect();if(x){const y=(b=n.content)==null?void 0:b.dataset.side,v=y==="right",E=v?-5:5,C=x[v?"left":"right"],M=x[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:d.clientX+E,y:d.clientY},{x:C,y:x.top},{x:M,y:x.top},{x:M,y:x.bottom},{x:C,y:x.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(d),d.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:g(e.onKeyDown,d=>{var w;const x=a.searchRef.current!=="";e.disabled||x&&d.key===" "||Mo[r.dir].includes(d.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),d.preventDefault())})})})});Pt.displayName=oe;var St="MenuSubContent",It=s.forwardRef((e,o)=>{const n=xt(F,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=q(F,e.__scopeMenu),c=ce(F,e.__scopeMenu),l=_t(St,e.__scopeMenu),p=s.useRef(null),u=X(o,p);return t.jsx(re.Provider,{scope:e.__scopeMenu,children:t.jsx(ae,{present:r||a.open,children:t.jsx(re.Slot,{scope:e.__scopeMenu,children:t.jsx(_e,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;c.isUsingKeyboardRef.current&&((d=p.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:g(e.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:g(e.onEscapeKeyDown,f=>{c.onClose(),f.preventDefault()}),onKeyDown:g(e.onKeyDown,f=>{var w;const d=f.currentTarget.contains(f.target),x=To[c.dir].includes(f.key);d&&x&&(a.onOpenChange(!1),(w=l.trigger)==null||w.focus(),f.preventDefault())})})})})})});It.displayName=St;function Dt(e){return e?"open":"closed"}function pe(e){return e==="indeterminate"}function Ie(e){return pe(e)?"indeterminate":e?"checked":"unchecked"}function zo(e){const o=document.activeElement;for(const n of e)if(n===o||(n.focus(),document.activeElement!==o))return}function Uo(e,o){return e.map((n,r)=>e[(o+r)%e.length])}function Bo(e,o,n){const i=o.length>1&&Array.from(o).every(u=>u===o[0])?o[0]:o,a=n?e.indexOf(n):-1;let c=Uo(e,Math.max(a,0));i.length===1&&(c=c.filter(u=>u!==n));const p=c.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return p!==n?p:void 0}function Wo(e,o){const{x:n,y:r}=e;let i=!1;for(let a=0,c=o.length-1;a<o.length;c=a++){const l=o[a].x,p=o[a].y,u=o[c].x,f=o[c].y;p>r!=f>r&&n<(u-l)*(r-p)/(f-p)+l&&(i=!i)}return i}function Ho(e,o){if(!o)return!1;const n={x:e.clientX,y:e.clientY};return Wo(n,o)}function se(e){return o=>o.pointerType==="mouse"?e(o):void 0}var Xo=mt,Yo=Re,qo=vt,Jo=ht,Zo=Pe,Qo=wt,er=xe,tr=bt,nr=Ct,or=Tt,rr=Rt,sr=jt,ar=Nt,ir=Pt,cr=It,De="DropdownMenu",[dr,Ns]=Ee(De,[pt]),_=pt(),[ur,At]=dr(De),Ot=e=>{const{__scopeDropdownMenu:o,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:c,modal:l=!0}=e,p=_(o),u=s.useRef(null),[f=!1,d]=rt({prop:i,defaultProp:a,onChange:c});return t.jsx(ur,{scope:o,triggerId:Ve(),triggerRef:u,contentId:Ve(),open:f,onOpenChange:d,onOpenToggle:s.useCallback(()=>d(x=>!x),[d]),modal:l,children:t.jsx(Xo,{...p,open:f,onOpenChange:d,dir:r,modal:l,children:n})})};Ot.displayName=De;var kt="DropdownMenuTrigger",Ft=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=At(kt,n),c=_(n);return t.jsx(Yo,{asChild:!0,...c,children:t.jsx(I.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:qe(o,a.triggerRef),onPointerDown:g(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:g(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Ft.displayName=kt;var lr="DropdownMenuPortal",Lt=e=>{const{__scopeDropdownMenu:o,...n}=e,r=_(o);return t.jsx(qo,{...r,...n})};Lt.displayName=lr;var Kt="DropdownMenuContent",$t=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,i=At(Kt,n),a=_(n),c=s.useRef(!1);return t.jsx(Jo,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:o,onCloseAutoFocus:g(e.onCloseAutoFocus,l=>{var p;c.current||(p=i.triggerRef.current)==null||p.focus(),c.current=!1,l.preventDefault()}),onInteractOutside:g(e.onInteractOutside,l=>{const p=l.detail.originalEvent,u=p.button===0&&p.ctrlKey===!0,f=p.button===2||u;(!i.modal||f)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$t.displayName=Kt;var pr="DropdownMenuGroup",Gt=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,i=_(n);return t.jsx(Zo,{...i,...r,ref:o})});Gt.displayName=pr;var fr="DropdownMenuLabel",Vt=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,i=_(n);return t.jsx(Qo,{...i,...r,ref:o})});Vt.displayName=fr;var mr="DropdownMenuItem",zt=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,i=_(n);return t.jsx(er,{...i,...r,ref:o})});zt.displayName=mr;var xr="DropdownMenuCheckboxItem",Ut=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,i=_(n);return t.jsx(tr,{...i,...r,ref:o})});Ut.displayName=xr;var vr="DropdownMenuRadioGroup",hr=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,i=_(n);return t.jsx(nr,{...i,...r,ref:o})});hr.displayName=vr;var wr="DropdownMenuRadioItem",Bt=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,i=_(n);return t.jsx(or,{...i,...r,ref:o})});Bt.displayName=wr;var gr="DropdownMenuItemIndicator",Wt=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,i=_(n);return t.jsx(rr,{...i,...r,ref:o})});Wt.displayName=gr;var br="DropdownMenuSeparator",Ht=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,i=_(n);return t.jsx(sr,{...i,...r,ref:o})});Ht.displayName=br;var yr="DropdownMenuArrow",Cr=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,i=_(n);return t.jsx(ar,{...i,...r,ref:o})});Cr.displayName=yr;var Mr="DropdownMenuSubTrigger",Xt=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,i=_(n);return t.jsx(ir,{...i,...r,ref:o})});Xt.displayName=Mr;var Tr="DropdownMenuSubContent",Yt=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,i=_(n);return t.jsx(cr,{...i,...r,ref:o,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Yt.displayName=Tr;var Er=Ot,Rr=Ft,jr=Lt,qt=$t,Nr=Gt,Jt=Vt,Zt=zt,Qt=Ut,en=Bt,tn=Wt,nn=Ht,on=Xt,rn=Yt;const _r=Er,Pr=Rr,Sr=Nr,Ir=s.forwardRef(({className:e,inset:o,children:n,...r},i)=>t.jsxs(on,{ref:i,className:T("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",o&&"pl-8",e),...r,children:[n,t.jsx(po,{className:"ml-auto h-4 w-4"})]}));Ir.displayName=on.displayName;const Dr=s.forwardRef(({className:e,...o},n)=>t.jsx(rn,{ref:n,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o}));Dr.displayName=rn.displayName;const sn=s.forwardRef(({className:e,sideOffset:o=4,...n},r)=>t.jsx(jr,{children:t.jsx(qt,{ref:r,sideOffset:o,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));sn.displayName=qt.displayName;const ye=s.forwardRef(({className:e,inset:o,...n},r)=>t.jsx(Zt,{ref:r,className:T("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 cursor-pointer",o&&"pl-8",e),...n}));ye.displayName=Zt.displayName;const Ar=s.forwardRef(({className:e,children:o,checked:n,...r},i)=>t.jsxs(Qt,{ref:i,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(tn,{children:t.jsx(fo,{className:"h-4 w-4"})})}),o]}));Ar.displayName=Qt.displayName;const Or=s.forwardRef(({className:e,children:o,...n},r)=>t.jsxs(en,{ref:r,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(tn,{})}),o]}));Or.displayName=en.displayName;const an=s.forwardRef(({className:e,inset:o,...n},r)=>t.jsx(Jt,{ref:r,className:T("px-2 py-1.5 text-sm font-semibold",o&&"pl-8",e),...n}));an.displayName=Jt.displayName;const cn=s.forwardRef(({className:e,...o},n)=>t.jsx(nn,{ref:n,className:T("-mx-1 my-1 h-px bg-muted",e),...o}));cn.displayName=nn.displayName;const Be=[{name:"Événements",href:"/dashboard"},{name:"Paramètres",href:"/dashboard/organisations/settings"}],kr=()=>{const[e,o]=s.useState(!1),{url:n,props:{permissions:r,auth:i}}=fe();return console.log(n),t.jsxs("header",{className:"border-b border-border",children:[t.jsxs("div",{className:"container h-16 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx(wo,{}),t.jsx("nav",{className:"shrink-0 hidden md:block",children:t.jsx("ul",{className:"flex items-center gap-6",children:Be.map(a=>{const c=n.startsWith("/dashboard/events")&&a.href==="/dashboard/events",l=n===a.href,p=n.startsWith(a.href)&&a.href!=="/dashboard",u=l||p||c;return t.jsx("li",{children:t.jsx($e,{href:a.href,as:"button",className:T("text-sm font-medium disabled:cursor-not-allowed",u?"text-primary":"text-primary/50"),disabled:a.href==="/dashboard/organisations/settings"&&!r.organization.settings,children:a.name})},a.name)})})})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("button",{className:"block md:hidden",onClick:()=>o(!e),"aria-label":"Toggle Menu",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),t.jsx(We,{className:"hidden md:block"})]})]}),t.jsx("div",{className:T("bg-black/50 fixed inset-0 md:hidden transition-all z-20",{hidden:!e})}),t.jsx("div",{className:T("fixed top-0 right-0 bottom-0 h-full w-72 bg-white shadow-lg transform transition-transform duration-300 ease-in-out md:hidden z-20 ",{"translate-x-0":e,"translate-x-full":!e}),children:t.jsxs("div",{className:"p-6",children:[t.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700 mb-4","aria-label":"Close Menu",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),t.jsx("ul",{className:"flex flex-col gap-3 mb-5 border-b border-border pb-5",children:Be.map(a=>t.jsx("li",{children:t.jsx($e,{href:a.href,as:"button",className:T("text-sm font-medium disabled:cursor-not-allowed",n===a.href?"text-primary":"text-primary/50"),disabled:a.href==="/dashboard/organisations/settings"&&!r.organization.settings,children:a.name})},a.name))}),t.jsx(We,{className:"float-right"})]})})]})},We=({className:e})=>{const{auth:o}=fe().props,n=r=>{Ye.get(r)};return t.jsx("div",{className:e,children:t.jsxs(_r,{children:[t.jsx(Pr,{asChild:!0,children:t.jsxs(ue,{variant:"none",className:"flex items-center md:flex-row-reverse gap-3",children:[t.jsx("span",{children:o.user.name}),t.jsx(Fr,{src:o.user.image})]})}),t.jsxs(sn,{className:"w-44 mt-0",align:"end",children:[t.jsx(an,{children:o.user.name}),t.jsx(cn,{}),t.jsxs(Sr,{children:[t.jsx(ye,{onClick:()=>n(route("customer.home")),children:"Retour au site"}),t.jsx(ye,{onClick:()=>n(route("logout")),children:"Déconnexion"})]})]})]})})},Fr=({src:e,className:o})=>(fe().props,t.jsxs(An,{className:T("w-9 h-9 aspect-square ring-1 ring-border ring-offset-2 shrink-0",o),children:[t.jsx(On,{src:e}),t.jsx(kn,{children:t.jsx("span",{children:"JD"})})]}));var Ae="ToastProvider",[Oe,Lr,Kr]=st("Toast"),[dn,_s]=Ee("Toast",[Kr]),[$r,ve]=dn(Ae),un=e=>{const{__scopeToast:o,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:c}=e,[l,p]=s.useState(null),[u,f]=s.useState(0),d=s.useRef(!1),x=s.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ae}\`. Expected non-empty \`string\`.`),t.jsx(Oe.Provider,{scope:o,children:t.jsx($r,{scope:o,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:p,onToastAdd:s.useCallback(()=>f(w=>w+1),[]),onToastRemove:s.useCallback(()=>f(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:x,children:c})})};un.displayName=Ae;var ln="ToastViewport",Gr=["F8"],Ce="toast.viewportPause",Me="toast.viewportResume",pn=s.forwardRef((e,o)=>{const{__scopeToast:n,hotkey:r=Gr,label:i="Notifications ({hotkey})",...a}=e,c=ve(ln,n),l=Lr(n),p=s.useRef(null),u=s.useRef(null),f=s.useRef(null),d=s.useRef(null),x=X(o,d,c.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=c.toastCount>0;s.useEffect(()=>{const v=E=>{var M;r.every(R=>E[R]||E.code===R)&&((M=d.current)==null||M.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),s.useEffect(()=>{const v=p.current,E=d.current;if(b&&v&&E){const C=()=>{if(!c.isClosePausedRef.current){const N=new CustomEvent(Ce);E.dispatchEvent(N),c.isClosePausedRef.current=!0}},M=()=>{if(c.isClosePausedRef.current){const N=new CustomEvent(Me);E.dispatchEvent(N),c.isClosePausedRef.current=!1}},R=N=>{!v.contains(N.relatedTarget)&&M()},j=()=>{v.contains(document.activeElement)||M()};return v.addEventListener("focusin",C),v.addEventListener("focusout",R),v.addEventListener("pointermove",C),v.addEventListener("pointerleave",j),window.addEventListener("blur",C),window.addEventListener("focus",M),()=>{v.removeEventListener("focusin",C),v.removeEventListener("focusout",R),v.removeEventListener("pointermove",C),v.removeEventListener("pointerleave",j),window.removeEventListener("blur",C),window.removeEventListener("focus",M)}}},[b,c.isClosePausedRef]);const y=s.useCallback(({tabbingDirection:v})=>{const C=l().map(M=>{const R=M.ref.current,j=[R,...es(R)];return v==="forwards"?j:j.reverse()});return(v==="forwards"?C.reverse():C).flat()},[l]);return s.useEffect(()=>{const v=d.current;if(v){const E=C=>{var j,N,D;const M=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!M){const B=document.activeElement,L=C.shiftKey;if(C.target===v&&L){(j=u.current)==null||j.focus();return}const K=y({tabbingDirection:L?"backwards":"forwards"}),W=K.findIndex(h=>h===B);ge(K.slice(W+1))?C.preventDefault():L?(N=u.current)==null||N.focus():(D=f.current)==null||D.focus()}};return v.addEventListener("keydown",E),()=>v.removeEventListener("keydown",E)}},[l,y]),t.jsxs(qn,{ref:p,role:"region","aria-label":i.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&t.jsx(Te,{ref:u,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"forwards"});ge(v)}}),t.jsx(Oe.Slot,{scope:n,children:t.jsx(I.ol,{tabIndex:-1,...a,ref:x})}),b&&t.jsx(Te,{ref:f,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"backwards"});ge(v)}})]})});pn.displayName=ln;var fn="ToastFocusProxy",Te=s.forwardRef((e,o)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=ve(fn,n);return t.jsx(nt,{"aria-hidden":!0,tabIndex:0,...i,ref:o,style:{position:"fixed"},onFocus:c=>{var u;const l=c.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});Te.displayName=fn;var he="Toast",Vr="toast.swipeStart",zr="toast.swipeMove",Ur="toast.swipeCancel",Br="toast.swipeEnd",mn=s.forwardRef((e,o)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...c}=e,[l=!0,p]=rt({prop:r,defaultProp:i,onChange:a});return t.jsx(ae,{present:n||l,children:t.jsx(Xr,{open:l,...c,ref:o,onClose:()=>p(!1),onPause:ee(e.onPause),onResume:ee(e.onResume),onSwipeStart:g(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:g(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:g(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:g(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),p(!1)})})})});mn.displayName=he;var[Wr,Hr]=dn(he,{onClose(){}}),Xr=s.forwardRef((e,o)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:c,onEscapeKeyDown:l,onPause:p,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:x,onSwipeEnd:w,...b}=e,y=ve(he,n),[v,E]=s.useState(null),C=X(o,h=>E(h)),M=s.useRef(null),R=s.useRef(null),j=i||y.duration,N=s.useRef(0),D=s.useRef(j),B=s.useRef(0),{onToastAdd:L,onToastRemove:V}=y,z=ee(()=>{var P;(v==null?void 0:v.contains(document.activeElement))&&((P=y.viewport)==null||P.focus()),c()}),K=s.useCallback(h=>{!h||h===1/0||(window.clearTimeout(B.current),N.current=new Date().getTime(),B.current=window.setTimeout(z,h))},[z]);s.useEffect(()=>{const h=y.viewport;if(h){const P=()=>{K(D.current),u==null||u()},$=()=>{const H=new Date().getTime()-N.current;D.current=D.current-H,window.clearTimeout(B.current),p==null||p()};return h.addEventListener(Ce,$),h.addEventListener(Me,P),()=>{h.removeEventListener(Ce,$),h.removeEventListener(Me,P)}}},[y.viewport,j,p,u,K]),s.useEffect(()=>{a&&!y.isClosePausedRef.current&&K(j)},[a,j,y.isClosePausedRef,K]),s.useEffect(()=>(L(),()=>V()),[L,V]);const W=s.useMemo(()=>v?yn(v):null,[v]);return y.viewport?t.jsxs(t.Fragment,{children:[W&&t.jsx(Yr,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),t.jsx(Wr,{scope:n,onClose:z,children:Dn.createPortal(t.jsx(Oe.ItemSlot,{scope:n,children:t.jsx(Jn,{asChild:!0,onEscapeKeyDown:g(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||z(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(I.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:g(e.onKeyDown,h=>{h.key==="Escape"&&(l==null||l(h.nativeEvent),h.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:g(e.onPointerDown,h=>{h.button===0&&(M.current={x:h.clientX,y:h.clientY})}),onPointerMove:g(e.onPointerMove,h=>{if(!M.current)return;const P=h.clientX-M.current.x,$=h.clientY-M.current.y,H=!!R.current,A=["left","right"].includes(y.swipeDirection),m=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,S=A?m(0,P):0,O=A?0:m(0,$),k=h.pointerType==="touch"?10:2,U={x:S,y:O},J={originalEvent:h,delta:U};H?(R.current=U,de(zr,d,J,{discrete:!1})):He(U,y.swipeDirection,k)?(R.current=U,de(Vr,f,J,{discrete:!1}),h.target.setPointerCapture(h.pointerId)):(Math.abs(P)>k||Math.abs($)>k)&&(M.current=null)}),onPointerUp:g(e.onPointerUp,h=>{const P=R.current,$=h.target;if($.hasPointerCapture(h.pointerId)&&$.releasePointerCapture(h.pointerId),R.current=null,M.current=null,P){const H=h.currentTarget,A={originalEvent:h,delta:P};He(P,y.swipeDirection,y.swipeThreshold)?de(Br,w,A,{discrete:!0}):de(Ur,x,A,{discrete:!0}),H.addEventListener("click",m=>m.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Yr=e=>{const{__scopeToast:o,children:n,...r}=e,i=ve(he,o),[a,c]=s.useState(!1),[l,p]=s.useState(!1);return Zr(()=>c(!0)),s.useEffect(()=>{const u=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:t.jsx(Je,{asChild:!0,children:t.jsx(nt,{...r,children:a&&t.jsxs(t.Fragment,{children:[i.label," ",n]})})})},qr="ToastTitle",xn=s.forwardRef((e,o)=>{const{__scopeToast:n,...r}=e;return t.jsx(I.div,{...r,ref:o})});xn.displayName=qr;var Jr="ToastDescription",vn=s.forwardRef((e,o)=>{const{__scopeToast:n,...r}=e;return t.jsx(I.div,{...r,ref:o})});vn.displayName=Jr;var hn="ToastAction",wn=s.forwardRef((e,o)=>{const{altText:n,...r}=e;return n.trim()?t.jsx(bn,{altText:n,asChild:!0,children:t.jsx(ke,{...r,ref:o})}):(console.error(`Invalid prop \`altText\` supplied to \`${hn}\`. Expected non-empty \`string\`.`),null)});wn.displayName=hn;var gn="ToastClose",ke=s.forwardRef((e,o)=>{const{__scopeToast:n,...r}=e,i=Hr(gn,n);return t.jsx(bn,{asChild:!0,children:t.jsx(I.button,{type:"button",...r,ref:o,onClick:g(e.onClick,i.onClose)})})});ke.displayName=gn;var bn=s.forwardRef((e,o)=>{const{__scopeToast:n,altText:r,...i}=e;return t.jsx(I.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:o})});function yn(e){const o=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&o.push(r.textContent),Qr(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const c=r.dataset.radixToastAnnounceAlt;c&&o.push(c)}else o.push(...yn(r))}}),o}function de(e,o,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});o&&i.addEventListener(e,o,{once:!0}),r?ot(i,a):i.dispatchEvent(a)}var He=(e,o,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return o==="left"||o==="right"?a&&r>n:!a&&i>n};function Zr(e=()=>{}){const o=ee(e);oo(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(o)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[o])}function Qr(e){return e.nodeType===e.ELEMENT_NODE}function es(e){const o=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)o.push(n.currentNode);return o}function ge(e){const o=document.activeElement;return e.some(n=>n===o?!0:(n.focus(),document.activeElement!==o))}var ts=un,Cn=pn,Mn=mn,Tn=xn,En=vn,Rn=wn,jn=ke;const ns=ts,Nn=s.forwardRef(({className:e,...o},n)=>t.jsx(Cn,{ref:n,className:T("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-4 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...o}));Nn.displayName=Cn.displayName;const os=mo("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_n=s.forwardRef(({className:e,variant:o,...n},r)=>t.jsx(Mn,{ref:r,className:T(os({variant:o}),e),...n}));_n.displayName=Mn.displayName;const rs=s.forwardRef(({className:e,...o},n)=>t.jsx(Rn,{ref:n,className:T("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...o}));rs.displayName=Rn.displayName;const Pn=s.forwardRef(({className:e,...o},n)=>t.jsx(jn,{ref:n,className:T("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...o}));Pn.displayName=jn.displayName;const Sn=s.forwardRef(({className:e,...o},n)=>t.jsx(Tn,{ref:n,className:T("text-sm font-semibold [&+div]:text-xs",e),...o}));Sn.displayName=Tn.displayName;const In=s.forwardRef(({className:e,...o},n)=>t.jsx(En,{ref:n,className:T("text-sm opacity-90",e),...o}));In.displayName=En.displayName;function ss(){const{toasts:e}=no();return t.jsxs(ns,{children:[e.map(function({id:o,title:n,description:r,action:i,...a}){return t.jsxs(_n,{...a,children:[t.jsxs("div",{className:"grid gap-1",children:[n&&t.jsx(Sn,{children:n}),r&&t.jsx(In,{children:r})]}),i,t.jsx(Pn,{})]},o)}),t.jsx(Nn,{})]})}const as=({children:e,container:o=!0,className:n})=>t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx(kr,{}),t.jsx("main",{className:T("pb-12",o?"container":"",n),children:e}),t.jsx(ss,{})]}),Ps=as;export{Ps as A,bo as C,_r as D,ut as S,Pr as a,sn as b,an as c,ye as d,Ar as e};

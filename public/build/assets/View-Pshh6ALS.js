import{q as f,r as a,W as b,j as e,Y as N,y as S}from"./app-DXmYKjII.js";import{E as t}from"./Error-DjxQmE35.js";import{I as r}from"./Input-DirXyz9d.js";import{B as C}from"./button-LZ4wRFbW.js";import{A as w}from"./AuthLayout-CgztBecz.js";const A=()=>{f().props;const[o,p]=a.useState(""),[i,u]=a.useState("association"),[n,m]=a.useState(""),[l,d]=a.useState(""),[c,x]=a.useState(""),{data:g,setData:h,errors:s,processing:j,post:v}=b({name:o,type:i,logo:n,description:l,website:c});a.useEffect(()=>{h({name:o,type:i,logo:n,description:l,website:c})},[o,i,n,l,c]);const y=()=>{console.log(g),v(route("shared.organizations.store"),{preserveScroll:!0,onSuccess:()=>{S.get(route("dashboard"))}})};return e.jsxs(w,{title:"Devenez un organisateur",children:[e.jsx(N,{title:"Devenez un organisateur"}),e.jsxs("div",{className:"bg-white px-4 py-6 mt-4 shadow flex flex-col gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{type:"file",value:n,placeholder:"URL du logo",onChange:m}),s.logo&&e.jsx(t,{message:s.logo})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{type:"text",value:o,placeholder:"Nom de l'organisation",onChange:p,required:!0}),s.name?e.jsx(t,{message:s.name}):e.jsx("p",{className:"text-xs text-gray-400",children:"L’URL de votre page organisateur sera basée sur ce nom."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{type:"select",value:i,placeholder:"Type d'organisation",onChange:u,required:!0,options:[{value:"association",name:"Association"},{value:"entreprise",name:"Entreprise"},{value:"label",name:"Label de musique"},{value:"collectif",name:"Collectif artistisque"},{value:"particulier",name:"Particulier"}]}),s.type&&e.jsx(t,{message:s.type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{type:"textarea",value:l,placeholder:"Description",onChange:d}),s.description&&e.jsx(t,{message:s.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{type:"text",value:c,placeholder:"Site web",onChange:x}),s.website&&e.jsx(t,{message:s.website})]}),e.jsx(C,{variant:"customer_primary",onClick:y,disabled:j,children:"Créer ma première organisation"})]})]})};export{A as default};

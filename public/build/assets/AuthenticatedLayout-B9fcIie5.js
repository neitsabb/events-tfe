import{r as n,j as e,q,W as xe,y as ve,a as ie,b as ut}from"./app-FSxDIhYd.js";import{c as he,P as S,d as K,e as te,u as pt,b as ft,a as P,f as mt}from"./index-Cev0qjhR.js";import{c as w,B as z,f as ce,u as ge,a as xt}from"./button-4CThn5Rc.js";import{P as vt}from"./react-icons.esm-CIjgWKdx.js";import{f as ht,D as gt,b as wt,c as jt,d as bt,e as Tt}from"./dialog-nkotfy8D.js";import{I as le}from"./label-CfUuw5UX.js";import{S as we,a as je,b as be,c as Te,d as D,e as yt,f as Nt,V as ye}from"./select-BCPN16Ka.js";import{T as Et}from"./textarea-BpLq-t0F.js";import{F as V}from"./Field-arf_Kbr3.js";import{t as Ct,u as Pt}from"./use-toast-Da-wStD8.js";import{D as St,a as Rt,b as At,c as It,f as Lt,g as kt,d as de}from"./dropdown-menu-DxExr19P.js";import{c as Ft}from"./chevron-right-CKNbWl7c.js";import{B as Dt,j as Mt,P as _t}from"./index-XGTWT46k.js";var se="Avatar",[Ot,As]=he(se),[Vt,Ne]=Ot(se),Ee=n.forwardRef((t,r)=>{const{__scopeAvatar:s,...a}=t,[i,o]=n.useState("idle");return e.jsx(Vt,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:e.jsx(S.span,{...a,ref:r})})});Ee.displayName=se;var Ce="AvatarImage",Pe=n.forwardRef((t,r)=>{const{__scopeAvatar:s,src:a,onLoadingStatusChange:i=()=>{},...o}=t,l=Ne(Ce,s),p=zt(a),f=K(c=>{i(c),l.onImageLoadingStatusChange(c)});return te(()=>{p!=="idle"&&f(p)},[p,f]),p==="loaded"?e.jsx(S.img,{...o,ref:r,src:a}):null});Pe.displayName=Ce;var Se="AvatarFallback",Re=n.forwardRef((t,r)=>{const{__scopeAvatar:s,delayMs:a,...i}=t,o=Ne(Se,s),[l,p]=n.useState(a===void 0);return n.useEffect(()=>{if(a!==void 0){const f=window.setTimeout(()=>p(!0),a);return()=>window.clearTimeout(f)}},[a]),l&&o.imageLoadingStatus!=="loaded"?e.jsx(S.span,{...i,ref:r}):null});Re.displayName=Se;function zt(t){const[r,s]=n.useState("idle");return te(()=>{if(!t){s("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&s(l)};return s("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,()=>{a=!1}},[t]),r}var Ae=Ee,Ie=Pe,Le=Re;const ke=n.forwardRef(({className:t,...r},s)=>e.jsx(Ae,{ref:s,className:w("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r}));ke.displayName=Ae.displayName;const Fe=n.forwardRef(({className:t,...r},s)=>e.jsx(Ie,{ref:s,className:w("aspect-square h-full w-full",t),...r}));Fe.displayName=Ie.displayName;const De=n.forwardRef(({className:t,...r},s)=>e.jsx(Le,{ref:s,className:w("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r}));De.displayName=Le.displayName;var Kt="Separator",ue="horizontal",$t=["horizontal","vertical"],Me=n.forwardRef((t,r)=>{const{decorative:s,orientation:a=ue,...i}=t,o=Wt(a)?a:ue,p=s?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(S.div,{"data-orientation":o,...p,...i,ref:r})});Me.displayName=Kt;function Wt(t){return $t.includes(t)}var _e=Me;const Oe=n.forwardRef(({className:t,orientation:r="horizontal",decorative:s=!0,...a},i)=>e.jsx(_e,{ref:i,decorative:s,orientation:r,className:w("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...a}));Oe.displayName=_e.displayName;const Ht=()=>{var j,R;const{props:{auth:t}}=q(),[r,s]=n.useState(((j=t.organizationLogged)==null?void 0:j.id)??((R=t.user.organizations[0])==null?void 0:R.id)??0),{data:a,setData:i,post:o}=xe({organizationId:r}),l=n.useRef(!1);n.useEffect(()=>{l.current&&o(route("organizations.switch"))},[a]),n.useEffect(()=>{var v,g;s(((v=t.organizationLogged)==null?void 0:v.id)??((g=t.user.organizations[0])==null?void 0:g.id)??0)},[t.organizationLogged,t.user.organizations]);const p=v=>{const g=parseInt(v,10);s(g),i("organizationId",g),l.current=!0},f=t.user.organizations.find(v=>v.id===r),[c,T]=n.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(we,{value:r.toString(),onValueChange:p,children:[e.jsx(je,{className:"w-52 flex items-center gap-2",children:e.jsx(be,{children:e.jsxs("div",{className:"flex items-center gap-2 truncate",children:[e.jsx("span",{className:"shrink-0",children:e.jsx("img",{src:f==null?void 0:f.logo,alt:"",className:"w-6 h-6 cover rounded-full"})}),ce(f.name)]})})}),e.jsx(Te,{children:e.jsxs(yt,{children:[e.jsx(Nt,{children:"Organisations"}),t.user.organizations.map(v=>{var g;return e.jsx(D,{value:((g=v.id)==null?void 0:g.toString())||"",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:" ",children:e.jsx("img",{src:v.logo,alt:"",className:"w-6 h-6 cover rounded-full"})}),ce(v.name)]})},v.id)}),e.jsx(Oe,{className:"my-1"}),e.jsxs(z,{variant:"outline",className:"w-full",onClick:()=>T(!0),children:[e.jsx(vt,{className:"mr-2 "}),"Créer une organisation"]})]})})]}),e.jsx(Bt,{open:c,handleOpen:T})]})},Bt=({open:t,handleOpen:r})=>{const{data:s,setData:a,post:i,errors:o,reset:l}=xe({name:"",type:"association",description:"",logo:"",website:""}),p=()=>{i(route("shared.organizations.store"),{onSuccess:({props:{flash:f}})=>{l(),ve.reload(),r&&r(!1),Ct({title:"Succès",description:f.success})}})};return e.jsx(gt,{open:t,onOpenChange:r,children:e.jsxs(wt,{children:[e.jsxs(jt,{children:[e.jsx(bt,{children:"Créer une organisation"}),e.jsx(Tt,{children:"Créez une nouvelle organisation pour gérer vos événements."})]}),e.jsx(qt,{handleOpen:r,data:s,errors:o,setData:a,handleSubmit:p})]})})},qt=({data:t,setData:r,errors:s,handleSubmit:a,handleOpen:i})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(V,{label:"Nom",id:"name",className:"col-span-2",errors:s,children:e.jsx(le,{id:"name",value:t.name,onChange:o=>r("name",o.target.value)})}),e.jsx(V,{label:"Type",id:"type",errors:s,children:e.jsxs(we,{onValueChange:o=>r("type",o),defaultValue:t.type,children:[e.jsx(je,{children:e.jsx(be,{defaultValue:t.type})}),e.jsxs(Te,{align:"end",children:[e.jsx(D,{value:"association",children:"Association"}),e.jsx(D,{value:"entreprise",children:"Entreprise"}),e.jsx(D,{value:"label",children:"Label de musique"}),e.jsx(D,{value:"collectif",children:"Collectif artistique"}),e.jsx(D,{value:"particulier",children:"Particulier"})]})]})})]}),e.jsxs(V,{label:"Description",id:"description",errors:s,required:!1,children:[e.jsx(Et,{id:"description",value:t.description,onChange:o=>r("description",o.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Écrivez une brève description de votre organisation (Mission, style musical, histoire, etc.)"})]}),e.jsx(V,{label:"Logo",id:"logo",errors:s,required:!1,children:e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-24 rounded-md shadow-sm border border-input cursor-pointer ",children:[t.logo?e.jsxs("div",{className:"flex items-center  gap-2",children:[e.jsx("div",{className:"w-full h-16",children:e.jsx("img",{src:t.logo instanceof File?URL.createObjectURL(t.logo):t.logo,alt:"Image de couverture",className:"w-full h-full fit-cover rounded-md"})}),e.jsx(z,{variant:"outline",className:"mt-2",onClick:()=>r("logo",null),children:"Changer l'image"})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx("svg",{className:"w-8 h-8 mb-4 text-gray-400 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-400",children:"AVIF, WEBP, SVG, PNG, JPG ou JPEG. Max 2Mo"})]}),e.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",accept:"image/jpeg,image/png,image/jpg,image/gif,image/svg,image/webp,image/avif",onChange:o=>{var l;r("logo",((l=o.target.files)==null?void 0:l[0])||null)}})]})})}),e.jsx(V,{label:"Site web",id:"website",required:!1,errors:s,children:e.jsx(le,{id:"website",value:t.website,onChange:o=>r("website",o.target.value)})})]}),a&&e.jsxs(ht,{children:[e.jsx(z,{type:"submit",variant:"secondary",className:"mt-2 md:mt-0",onClick:()=>i&&i(!1),children:"Annuler"}),e.jsx(z,{onClick:a,children:"Sauvegarder"})]})]}),pe=[{name:"Événements",href:"/dashboard"},{name:"Paramètres",href:"/dashboard/organisations/settings"}],Ut=()=>{const[t,r]=n.useState(!1),{url:s,props:{permissions:a,auth:i}}=q();return console.log(s),e.jsxs("header",{className:"border-b border-border",children:[e.jsxs("div",{className:"container h-16 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(Ht,{}),e.jsx("nav",{className:"shrink-0 hidden md:block",children:e.jsx("ul",{className:"flex items-center gap-6",children:pe.map(o=>{const l=s.startsWith("/dashboard/events")&&o.href==="/dashboard/events",p=s===o.href,f=s.startsWith(o.href)&&o.href!=="/dashboard",c=p||f||l;return e.jsx("li",{children:e.jsx(ie,{href:o.href,as:"button",className:w("text-sm font-medium disabled:cursor-not-allowed",c?"text-primary":"text-primary/50"),disabled:o.href==="/dashboard/organisations/settings"&&!a.organization.settings,children:o.name})},o.name)})})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{className:"block md:hidden",onClick:()=>r(!t),"aria-label":"Toggle Menu",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),e.jsx(fe,{className:"hidden md:block"})]})]}),e.jsx("div",{className:w("bg-black/50 fixed inset-0 md:hidden transition-all z-20",{hidden:!t})}),e.jsx("div",{className:w("fixed top-0 right-0 bottom-0 h-full w-72 bg-white shadow-lg transform transition-transform duration-300 ease-in-out md:hidden z-20 ",{"translate-x-0":t,"translate-x-full":!t}),children:e.jsxs("div",{className:"p-6",children:[e.jsx("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700 mb-4","aria-label":"Close Menu",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("ul",{className:"flex flex-col gap-3 mb-5 border-b border-border pb-5",children:pe.map(o=>e.jsx("li",{children:e.jsx(ie,{href:o.href,as:"button",className:w("text-sm font-medium disabled:cursor-not-allowed",s===o.href?"text-primary":"text-primary/50"),disabled:o.href==="/dashboard/organisations/settings"&&!a.organization.settings,children:o.name})},o.name))}),e.jsx(fe,{className:"float-right"})]})})]})},fe=({className:t})=>{const{auth:r}=q().props,s=a=>{ve.get(a)};return e.jsx("div",{className:t,children:e.jsxs(St,{children:[e.jsx(Rt,{asChild:!0,children:e.jsxs(z,{variant:"none",className:"flex items-center md:flex-row-reverse gap-3",children:[e.jsx("span",{children:r.user.name}),e.jsx(Gt,{src:r.user.image})]})}),e.jsxs(At,{className:"w-44 mt-0",align:"end",children:[e.jsx(It,{children:r.user.name}),e.jsx(Lt,{}),e.jsxs(kt,{children:[e.jsx(de,{onClick:()=>s(route("customer.home")),children:"Retour au site"}),e.jsx(de,{onClick:()=>s(route("logout")),children:"Déconnexion"})]})]})]})})},Gt=({src:t,className:r})=>{var a,i,o,l;const{auth:s}=q().props;return e.jsxs(ke,{className:w("w-9 h-9 aspect-square ring-1 ring-border ring-offset-2 shrink-0",r),children:[e.jsx(Fe,{src:t}),e.jsx(De,{children:e.jsxs("span",{children:[(i=(a=s==null?void 0:s.user)==null?void 0:a.firstname)==null?void 0:i.charAt(0),(l=(o=s==null?void 0:s.user)==null?void 0:o.lastname)==null?void 0:l.charAt(0)]})})]})};var re="ToastProvider",[ae,Xt,Yt]=Ft("Toast"),[Ve,Is]=he("Toast",[Yt]),[Jt,U]=Ve(re),ze=t=>{const{__scopeToast:r,label:s="Notification",duration:a=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:l}=t,[p,f]=n.useState(null),[c,T]=n.useState(0),j=n.useRef(!1),R=n.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${re}\`. Expected non-empty \`string\`.`),e.jsx(ae.Provider,{scope:r,children:e.jsx(Jt,{scope:r,label:s,duration:a,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:p,onViewportChange:f,onToastAdd:n.useCallback(()=>T(v=>v+1),[]),onToastRemove:n.useCallback(()=>T(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:j,isClosePausedRef:R,children:l})})};ze.displayName=re;var Ke="ToastViewport",Qt=["F8"],Q="toast.viewportPause",Z="toast.viewportResume",$e=n.forwardRef((t,r)=>{const{__scopeToast:s,hotkey:a=Qt,label:i="Notifications ({hotkey})",...o}=t,l=U(Ke,s),p=Xt(s),f=n.useRef(null),c=n.useRef(null),T=n.useRef(null),j=n.useRef(null),R=ge(r,j,l.onViewportChange),v=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=l.toastCount>0;n.useEffect(()=>{const u=N=>{var h;a.every(b=>N[b]||N.code===b)&&((h=j.current)==null||h.focus())};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[a]),n.useEffect(()=>{const u=f.current,N=j.current;if(g&&u&&N){const x=()=>{if(!l.isClosePausedRef.current){const E=new CustomEvent(Q);N.dispatchEvent(E),l.isClosePausedRef.current=!0}},h=()=>{if(l.isClosePausedRef.current){const E=new CustomEvent(Z);N.dispatchEvent(E),l.isClosePausedRef.current=!1}},b=E=>{!u.contains(E.relatedTarget)&&h()},y=()=>{u.contains(document.activeElement)||h()};return u.addEventListener("focusin",x),u.addEventListener("focusout",b),u.addEventListener("pointermove",x),u.addEventListener("pointerleave",y),window.addEventListener("blur",x),window.addEventListener("focus",h),()=>{u.removeEventListener("focusin",x),u.removeEventListener("focusout",b),u.removeEventListener("pointermove",x),u.removeEventListener("pointerleave",y),window.removeEventListener("blur",x),window.removeEventListener("focus",h)}}},[g,l.isClosePausedRef]);const m=n.useCallback(({tabbingDirection:u})=>{const x=p().map(h=>{const b=h.ref.current,y=[b,...us(b)];return u==="forwards"?y:y.reverse()});return(u==="forwards"?x.reverse():x).flat()},[p]);return n.useEffect(()=>{const u=j.current;if(u){const N=x=>{var y,E,I;const h=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!h){const M=document.activeElement,k=x.shiftKey;if(x.target===u&&k){(y=c.current)==null||y.focus();return}const L=m({tabbingDirection:k?"backwards":"forwards"}),$=L.findIndex(d=>d===M);J(L.slice($+1))?x.preventDefault():k?(E=c.current)==null||E.focus():(I=T.current)==null||I.focus()}};return u.addEventListener("keydown",N),()=>u.removeEventListener("keydown",N)}},[p,m]),e.jsxs(Dt,{ref:f,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&e.jsx(ee,{ref:c,onFocusFromOutsideViewport:()=>{const u=m({tabbingDirection:"forwards"});J(u)}}),e.jsx(ae.Slot,{scope:s,children:e.jsx(S.ol,{tabIndex:-1,...o,ref:R})}),g&&e.jsx(ee,{ref:T,onFocusFromOutsideViewport:()=>{const u=m({tabbingDirection:"backwards"});J(u)}})]})});$e.displayName=Ke;var We="ToastFocusProxy",ee=n.forwardRef((t,r)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...i}=t,o=U(We,s);return e.jsx(ye,{"aria-hidden":!0,tabIndex:0,...i,ref:r,style:{position:"fixed"},onFocus:l=>{var c;const p=l.relatedTarget;!((c=o.viewport)!=null&&c.contains(p))&&a()}})});ee.displayName=We;var G="Toast",Zt="toast.swipeStart",es="toast.swipeMove",ts="toast.swipeCancel",ss="toast.swipeEnd",He=n.forwardRef((t,r)=>{const{forceMount:s,open:a,defaultOpen:i,onOpenChange:o,...l}=t,[p=!0,f]=pt({prop:a,defaultProp:i,onChange:o});return e.jsx(ft,{present:s||p,children:e.jsx(os,{open:p,...l,ref:r,onClose:()=>f(!1),onPause:K(t.onPause),onResume:K(t.onResume),onSwipeStart:P(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(t.onSwipeMove,c=>{const{x:T,y:j}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${T}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${j}px`)}),onSwipeCancel:P(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(t.onSwipeEnd,c=>{const{x:T,y:j}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${T}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${j}px`),f(!1)})})})});He.displayName=G;var[rs,as]=Ve(G,{onClose(){}}),os=n.forwardRef((t,r)=>{const{__scopeToast:s,type:a="foreground",duration:i,open:o,onClose:l,onEscapeKeyDown:p,onPause:f,onResume:c,onSwipeStart:T,onSwipeMove:j,onSwipeCancel:R,onSwipeEnd:v,...g}=t,m=U(G,s),[u,N]=n.useState(null),x=ge(r,d=>N(d)),h=n.useRef(null),b=n.useRef(null),y=i||m.duration,E=n.useRef(0),I=n.useRef(y),M=n.useRef(0),{onToastAdd:k,onToastRemove:X}=m,F=K(()=>{var C;(u==null?void 0:u.contains(document.activeElement))&&((C=m.viewport)==null||C.focus()),l()}),L=n.useCallback(d=>{!d||d===1/0||(window.clearTimeout(M.current),E.current=new Date().getTime(),M.current=window.setTimeout(F,d))},[F]);n.useEffect(()=>{const d=m.viewport;if(d){const C=()=>{L(I.current),c==null||c()},A=()=>{const _=new Date().getTime()-E.current;I.current=I.current-_,window.clearTimeout(M.current),f==null||f()};return d.addEventListener(Q,A),d.addEventListener(Z,C),()=>{d.removeEventListener(Q,A),d.removeEventListener(Z,C)}}},[m.viewport,y,f,c,L]),n.useEffect(()=>{o&&!m.isClosePausedRef.current&&L(y)},[o,y,m.isClosePausedRef,L]),n.useEffect(()=>(k(),()=>X()),[k,X]);const $=n.useMemo(()=>u?Je(u):null,[u]);return m.viewport?e.jsxs(e.Fragment,{children:[$&&e.jsx(ns,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),e.jsx(rs,{scope:s,onClose:F,children:ut.createPortal(e.jsx(ae.ItemSlot,{scope:s,children:e.jsx(Mt,{asChild:!0,onEscapeKeyDown:P(p,()=>{m.isFocusedToastEscapeKeyDownRef.current||F(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(S.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:P(t.onKeyDown,d=>{d.key==="Escape"&&(p==null||p(d.nativeEvent),d.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:P(t.onPointerDown,d=>{d.button===0&&(h.current={x:d.clientX,y:d.clientY})}),onPointerMove:P(t.onPointerMove,d=>{if(!h.current)return;const C=d.clientX-h.current.x,A=d.clientY-h.current.y,_=!!b.current,O=["left","right"].includes(m.swipeDirection),W=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,lt=O?W(0,C):0,dt=O?0:W(0,A),Y=d.pointerType==="touch"?10:2,H={x:lt,y:dt},ne={originalEvent:d,delta:H};_?(b.current=H,B(es,j,ne,{discrete:!1})):me(H,m.swipeDirection,Y)?(b.current=H,B(Zt,T,ne,{discrete:!1}),d.target.setPointerCapture(d.pointerId)):(Math.abs(C)>Y||Math.abs(A)>Y)&&(h.current=null)}),onPointerUp:P(t.onPointerUp,d=>{const C=b.current,A=d.target;if(A.hasPointerCapture(d.pointerId)&&A.releasePointerCapture(d.pointerId),b.current=null,h.current=null,C){const _=d.currentTarget,O={originalEvent:d,delta:C};me(C,m.swipeDirection,m.swipeThreshold)?B(ss,v,O,{discrete:!0}):B(ts,R,O,{discrete:!0}),_.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),ns=t=>{const{__scopeToast:r,children:s,...a}=t,i=U(G,r),[o,l]=n.useState(!1),[p,f]=n.useState(!1);return ls(()=>l(!0)),n.useEffect(()=>{const c=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(c)},[]),p?null:e.jsx(_t,{asChild:!0,children:e.jsx(ye,{...a,children:o&&e.jsxs(e.Fragment,{children:[i.label," ",s]})})})},is="ToastTitle",Be=n.forwardRef((t,r)=>{const{__scopeToast:s,...a}=t;return e.jsx(S.div,{...a,ref:r})});Be.displayName=is;var cs="ToastDescription",qe=n.forwardRef((t,r)=>{const{__scopeToast:s,...a}=t;return e.jsx(S.div,{...a,ref:r})});qe.displayName=cs;var Ue="ToastAction",Ge=n.forwardRef((t,r)=>{const{altText:s,...a}=t;return s.trim()?e.jsx(Ye,{altText:s,asChild:!0,children:e.jsx(oe,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ue}\`. Expected non-empty \`string\`.`),null)});Ge.displayName=Ue;var Xe="ToastClose",oe=n.forwardRef((t,r)=>{const{__scopeToast:s,...a}=t,i=as(Xe,s);return e.jsx(Ye,{asChild:!0,children:e.jsx(S.button,{type:"button",...a,ref:r,onClick:P(t.onClick,i.onClose)})})});oe.displayName=Xe;var Ye=n.forwardRef((t,r)=>{const{__scopeToast:s,altText:a,...i}=t;return e.jsx(S.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...i,ref:r})});function Je(t){const r=[];return Array.from(t.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),ds(a)){const i=a.ariaHidden||a.hidden||a.style.display==="none",o=a.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const l=a.dataset.radixToastAnnounceAlt;l&&r.push(l)}else r.push(...Je(a))}}),r}function B(t,r,s,{discrete:a}){const i=s.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});r&&i.addEventListener(t,r,{once:!0}),a?mt(i,o):i.dispatchEvent(o)}var me=(t,r,s=0)=>{const a=Math.abs(t.x),i=Math.abs(t.y),o=a>i;return r==="left"||r==="right"?o&&a>s:!o&&i>s};function ls(t=()=>{}){const r=K(t);te(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[r])}function ds(t){return t.nodeType===t.ELEMENT_NODE}function us(t){const r=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function J(t){const r=document.activeElement;return t.some(s=>s===r?!0:(s.focus(),document.activeElement!==r))}var ps=ze,Qe=$e,Ze=He,et=Be,tt=qe,st=Ge,rt=oe;const fs=ps,at=n.forwardRef(({className:t,...r},s)=>e.jsx(Qe,{ref:s,className:w("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-4 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...r}));at.displayName=Qe.displayName;const ms=xt("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ot=n.forwardRef(({className:t,variant:r,...s},a)=>e.jsx(Ze,{ref:a,className:w(ms({variant:r}),t),...s}));ot.displayName=Ze.displayName;const xs=n.forwardRef(({className:t,...r},s)=>e.jsx(st,{ref:s,className:w("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...r}));xs.displayName=st.displayName;const nt=n.forwardRef(({className:t,...r},s)=>e.jsx(rt,{ref:s,className:w("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...r}));nt.displayName=rt.displayName;const it=n.forwardRef(({className:t,...r},s)=>e.jsx(et,{ref:s,className:w("text-sm font-semibold [&+div]:text-xs",t),...r}));it.displayName=et.displayName;const ct=n.forwardRef(({className:t,...r},s)=>e.jsx(tt,{ref:s,className:w("text-sm opacity-90",t),...r}));ct.displayName=tt.displayName;function vs(){const{toasts:t}=Pt();return e.jsxs(fs,{children:[t.map(function({id:r,title:s,description:a,action:i,...o}){return e.jsxs(ot,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(it,{children:s}),a&&e.jsx(ct,{children:a})]}),i,e.jsx(nt,{})]},r)}),e.jsx(at,{})]})}const Ls=({children:t,container:r=!0,className:s})=>e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(Ut,{}),e.jsx("main",{className:w("pb-12",r?"container":"",s),children:t}),e.jsx(vs,{})]});export{Ls as A,qt as C,Oe as S,ke as a,Fe as b,De as c,Re as d,Pe as e};

import{q as f,r as a,W as N,j as e,y as S}from"./app-BSg7tcV-.js";import{A as C,I as o,E as r}from"./View-CMeCvMEi.js";import{B as w}from"./button-CrsewIh4.js";import"./utils-B0fn8ihL.js";import"./index-Bb4qSo10.js";const R=()=>{const{auth:p}=f().props,[i,u]=a.useState(""),[n,d]=a.useState("association"),[t,m]=a.useState(""),[l,x]=a.useState(""),[c,g]=a.useState(""),{data:h,setData:j,errors:s,processing:y,post:v}=N({name:i,type:n,logo:t,description:l,website:c});a.useEffect(()=>{j({name:i,type:n,logo:t,description:l,website:c}),console.log(t)},[i,n,t,l,c]);const b=()=>{console.log(h),v(route("shared.organizations.store"),{preserveScroll:!0,onSuccess:()=>{S.get(route("dashboard"))}})};return console.log(p),e.jsx(C,{title:"Devenez un organisateur",children:e.jsxs("div",{className:"bg-white px-4 py-6 mt-4 shadow flex flex-col gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{type:"file",value:t,placeholder:"URL du logo",onChange:m}),s.logo&&e.jsx(r,{message:s.logo})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{type:"text",value:i,placeholder:"Nom de l'organisation",onChange:u,required:!0}),s.name?e.jsx(r,{message:s.name}):e.jsx("p",{className:"text-xs text-gray-400",children:"L’URL de votre page organisateur sera basée sur ce nom."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{type:"select",value:n,placeholder:"Type d'organisation",onChange:d,required:!0,options:[{value:"association",name:"Association"},{value:"entreprise",name:"Entreprise"},{value:"label",name:"Label de musique"},{value:"collectif",name:"Collectif artistisque"},{value:"particulier",name:"Particulier"}]}),s.type&&e.jsx(r,{message:s.type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{type:"textarea",value:l,placeholder:"Description",onChange:x}),s.description&&e.jsx(r,{message:s.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{type:"text",value:c,placeholder:"Site web",onChange:g}),s.website&&e.jsx(r,{message:s.website})]}),e.jsx(w,{variant:"customer_primary",onClick:b,disabled:y,children:"Créer ma première organisation"})]})})};export{R as default};

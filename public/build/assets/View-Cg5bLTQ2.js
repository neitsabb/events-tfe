import{q as f,r as a,W as b,j as e,y as N}from"./app-XS3yalVP.js";import{E as t}from"./Error-BIrLlzQy.js";import{I as o}from"./Input-DjUkGKqz.js";import{B as S}from"./button-QYAymDF9.js";import{A as C}from"./AuthLayout-BY34Ervf.js";const A=()=>{f().props;const[r,p]=a.useState(""),[i,u]=a.useState("association"),[n,m]=a.useState(""),[l,d]=a.useState(""),[c,x]=a.useState(""),{data:g,setData:h,errors:s,processing:j,post:y}=b({name:r,type:i,logo:n,description:l,website:c});a.useEffect(()=>{h({name:r,type:i,logo:n,description:l,website:c})},[r,i,n,l,c]);const v=()=>{console.log(g),y(route("shared.organizations.store"),{preserveScroll:!0,onSuccess:()=>{N.get(route("dashboard"))}})};return e.jsx(C,{title:"Devenez un organisateur",children:e.jsxs("div",{className:"bg-white px-4 py-6 mt-4 shadow flex flex-col gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{type:"file",value:n,placeholder:"URL du logo",onChange:m}),s.logo&&e.jsx(t,{message:s.logo})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{type:"text",value:r,placeholder:"Nom de l'organisation",onChange:p,required:!0}),s.name?e.jsx(t,{message:s.name}):e.jsx("p",{className:"text-xs text-gray-400",children:"L’URL de votre page organisateur sera basée sur ce nom."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{type:"select",value:i,placeholder:"Type d'organisation",onChange:u,required:!0,options:[{value:"association",name:"Association"},{value:"entreprise",name:"Entreprise"},{value:"label",name:"Label de musique"},{value:"collectif",name:"Collectif artistisque"},{value:"particulier",name:"Particulier"}]}),s.type&&e.jsx(t,{message:s.type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{type:"textarea",value:l,placeholder:"Description",onChange:d}),s.description&&e.jsx(t,{message:s.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{type:"text",value:c,placeholder:"Site web",onChange:x}),s.website&&e.jsx(t,{message:s.website})]}),e.jsx(S,{variant:"customer_primary",onClick:v,disabled:j,children:"Créer ma première organisation"})]})})};export{A as default};
